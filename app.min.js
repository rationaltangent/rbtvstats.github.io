function benchmark(a,b){b!==!1&&setTimeout(function(){var b=[];setInterval(function(){var c=performance.now();a();var d=performance.now();b.push(d-c),b.length%10===0&&console.log("average execution time: "+_.mean(b))},100)},1e3)}function registerVideoDataService(a,b){registeredVideoDataServices[a]=b}angular.module("rbtvStats",["app"]),angular.module("app",["app.common","app.data","app.editor","app.viewer","ui.router","angular-loading-bar","ui-notification"]),angular.module("app").config(["$urlRouterProvider","NotificationProvider","cfpLoadingBarProvider","$tooltipProvider","$timepickerProvider","$datepickerProvider","$modalProvider",function(a,b,c,d,e,f,g){a.rule(function(a,b){var c=b.url();if(!("/"===c[c.length-1]||c.indexOf("/?")>-1))return c.indexOf("?")>-1?c.replace("?","/?"):c+"/"}),b.setOptions({delay:3e3,startTop:20,startRight:10,verticalSpacing:20,horizontalSpacing:20,positionX:"right",positionY:"top"}),c.latencyThreshold=500,angular.extend(d.defaults,{container:"body"}),angular.extend(e.defaults,{container:"body",timeFormat:"HH:mm",length:3,useNative:!1,timeType:"unix",iconUp:"fa fa-fw fa-chevron-up",iconDown:"fa fa-fw fa-chevron-down"}),angular.extend(f.defaults,{container:"body",useNative:!1,dateType:"unix",iconLeft:"fa fa-fw fa-chevron-left",iconRight:"fa fa-fw fa-chevron-right"}),angular.extend(g.defaults,{container:"body"})}]),angular.module("app").run(["$rootScope","amMoment","Notification","$parse",function(a,b,c,d){a.imagePlaceholders={},a.imagePlaceholders.video="data:image/jpeg;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEAAQUCZj//xAAUEQEAAAAAAAAAAAAAAAAAAACQ/9oACAEDAQE/AWY//8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAgEBPwFmP//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEABj8CZj//xAAUEAEAAAAAAAAAAAAAAAAAAACQ/9oACAEBAAE/IWY//9oADAMBAAIAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAACQ/9oACAEDAQE/EGY//8QAFBEBAAAAAAAAAAAAAAAAAAAAkP/aAAgBAgEBPxBmP//EABQQAQAAAAAAAAAAAAAAAAAAAJD/2gAIAQEAAT8QZj//2Q==",a.imagePlaceholders.channel="data:image/jpeg;base64,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",a.imagePlaceholders.show=a.imagePlaceholders.channel,a.imagePlaceholders.host=a.imagePlaceholders.channel,a.imagePlaceholders.series=a.imagePlaceholders.channel,b.changeLocale("de");var e=d3.locale({decimal:",",thousands:".",grouping:[3],currency:["€",""],dateTime:"%a %b %e %X %Y",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortDays:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Jänner","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],shortMonths:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Agu","Sep","Okt","Nov","Dez"]});d3.format=e.numberFormat,d3.time.format=e.timeFormat,angular.assign=function(a,b,c){if(angular.isUndefined(c)&&(c=!0),typeof a==typeof b)if(angular.isArray(a)){c&&(b.length=0);for(var d=0;d<a.length;d++)b.push(a[d])}else if(angular.isObject(a)){c&&angular.copy({},b);for(var e in a)b[e]=a[e]}},angular.isBoolean=function(a){return"boolean"==typeof a},c.parseError=function(a){if(a.message="Unbekannter Fehler",angular.isString(a.err))a.message=a.err;else if(a.err instanceof Error)a.message=a.err.message||a.message;else if(angular.isObject(a.err)&&(a.message="",angular.isNumber(a.err.status)&&(a.message="<div>Status "+a.err.status+"</div>"),angular.isString(a.errPath))){var b=d(a.errPath)(a.err);b&&(a.message+=b)}return a};var f={"rocketbeans.tv":"c-icon c-icon-bohne","forum.rocketbeans.tv":"c-icon c-icon-bohne","bohnenwiki.de":"c-icon c-icon-bohne","twitter.com":"fa fa-colored fa-twitter","reddit.com":"fa fa-colored fa-reddit","twitch.tv":"fa fa-colored fa-twitch","youtube.com":"fa fa-colored fa-youtube-play","igdb.com":"fa fa-colored fa-gamepad"};a.getDomain=function(a){var b=url("domain",a),c=url("sub",a);return c&&(b=c+"."+b),b},a.getDomainIcon=function(b){var c=a.getDomain(b),d=f[c];return d||(d="fa fa-colored fa-external-link"),d},a.safeApply=function(b){var c=a.$$phase;"$apply"===c||"$digest"===c?b&&"function"==typeof b&&b():this.$apply(b)}}]),angular.module("app.common",["app.data","ngAnimate","ngTable","mgcrea.ngStrap","uuid4"]),angular.module("app.common").config(function(){}),angular.module("app.common").factory("InitSrv",["$q","$timeout",function(a,b){var c={},d=[];return c.register=function(a){d.push(a)},c.wait=function(b){angular.isUndefined(b)&&(b=[]),angular.isArray(b)||(b=[b]);var e=[];return b.length>0&&(e=_(d).filter(function(a){return-1!==b.indexOf(a.id)}).map(function(b){return angular.isUndefined(b.promise)&&(b.promise=c.wait(b.dependencies).then(function(){return a.when(b.execute())})),b.promise}).value()),a.all(e)},c.run=function(d,e,f){function g(){return c.wait(e).then(function(){var b=d();return a.when(b)})}return angular.isFunction(d)||(d=function(){}),angular.isArray(e)||(e=[]),angular.isNumber(f)||(f=0),f>0?b(g,f):g()},c}]),angular.module("app.common").directive("init",["$animate","InitSrv","Notification",function(a,b,c){return{restrict:"A",transclude:"element",priority:600,terminal:!0,link:function(d,e,f,g,h){b.run(d.init,d.initDependencies,d.initDelay).then(function(){h(function(b,c){a.enter(b,e.parent(),e)})})["catch"](function(a){c.error({title:"Fehler bei der Initialisierung",message:"Einige Teile der Seite konnten nicht geladen werden",delay:null})})}}}]),angular.module("app.common").service("ConfigSrv",function(){var a=null,b={};return b["default"]=function(){return angular.copy({youtubeApiKey:"",githubApiOAuthToken:"",igdbApiKey:"",githubBaseUrl:"https://raw.githubusercontent.com",githubRepository:"rbtvstats/rbtvdata",githubBranch:"master",videosPath:"videos",livePath:"live"})},b.clear=function(){a=a||{},angular.copy({},a)},b.loadLocal=function(a){return localforage.getItem("config").then(function(a){return b.load(a||b["default"]())})},b.load=function(c){return b.clear(),c!==a&&angular.isObject(c)&&angular.copy(c,a),a},b.save=_.debounce(function(){console.log("save config");var a=b.all();localforage.setItem("config",a)},1e3),b.all=function(){return a},b.get=function(a){var c=b.all();return angular.isUndefined(a)?c:c[a]},b.clear(),b}),angular.module("app.common").service("StateSrv",["$rootScope","$parse","$state",function(a,b,c){function d(a,b,c){f[a]=f[a]||{},_.each(c,function(c,d){f[a][d]=c(b)}),g.saveLocal()}function e(a,b,c){_.each(c,function(c,d){var e=f[a][d];angular.isUndefined(e)||c.assign(b,e)})}var f={},g={};return g.loadLocal=function(){return localforage.getItem("state").then(function(a){f=a||{}})},g.saveLocal=_.debounce(function(){console.log("save state"),localforage.setItem("state",f)},1e3),g.watch=function(a,g){var h=c.current.name,i={};_.each(g,function(a){i[a]=b(a)}),h in f?e(h,a,i):d(h,a,i),_.each(g,function(b){a.$watch(b,function(b,c){d(h,a,i)},!0)})},g}]),angular.module("app.common").directive("imgSrc",function(){return{restrict:"A",link:function(a,b,c,d){b.attr("src",c.imgLoading);var e=new Image;e.onerror=function(){b.attr("src",c.imgFallback),b.attr("img-loading",""),b.attr("img-fallback","")},e.onload=function(){b.attr("src",c.imgSrc),b.attr("img-loading",""),b.attr("img-fallback","")},e.src=c.imgSrc}}}),angular.module("app.common").directive("formElement",function(){return{restrict:"A",replace:!0,transclude:!0,scope:{key:"=",name:"="},templateUrl:"app/common/form/form-element/form-element.html",link:function(a,b,c,d,e){var f=b.find(".content");f.append(e());var g=f.find("input").first();g.attr("id",a.key),g.attr("name",a.key)}}}),angular.module("app.common").directive("form",function(){return{restrict:"A",transclude:!0,scope:{cols:"="},templateUrl:"app/common/form/form/form.html",link:function(a,b,c,d,e){var f=b.find(".content");f.append(e())}}}),angular.module("app.common").filter("duration",function(){return function(a){var b=Math.floor(a/86400),c=Math.floor(a%86400/3600),d=Math.floor(a%86400%3600/60),e=Math.floor(a%86400%3600%60),f="";return b>0&&(f+=b+"T "),c>0&&(f+=c+"h "),d>0&&(f+=d+"m "),e>0&&0===b&&0===c&&(f+=e+"s "),f}}),angular.module("app.common").directive("chart",["$q","$timeout",function(a,b){var c=moment();return{restrict:"A",scope:{options:"=options",update:"=update"},templateUrl:"app/common/chart/chart.html",controller:["$scope","$rootScope","Notification",function(d,e,f){function g(a,b){var c,e=[],f=[];_.each(d.data,function(a){e.push(a.values[0][b]),f.push(a.values[a.values.length-1][b])}),e=_.min(e),f=_.max(f),c=f-e;var g;return g=c>2628e3?"%b %Y":c>259200?"%x":"%H:%M",d3.time.format(g)(new Date(1e3*a))}var h={chart:{minWidth:800,height:400,showLegend:!0,showControls:!1,useInteractiveGuideline:!1,x:function(a){return a.x},y:function(a){return a.y},xAxis:{showMaxMin:!1,axisLabelDistance:0,tickFormat:function(a){return d.options.chart.xAxis.tickFormatAutoDate?g(a,"x"):d.options.dateGroup.enable?_.find(d.options.dateGroup.groups,function(a){return a.id===d.options.dateGroup.selected}).format(a):a}},yAxis:{showMaxMin:!1,axisLabelDistance:5,tickFormat:function(a){return d.options.chart.yAxis.tickFormatAutoDate?g(a,"y"):a}},margin:{top:40,right:20,bottom:55,left:80},legend:{align:!0,rightAlign:!1,margin:{top:10,right:20,bottom:5,left:20}},tooltip:{gravity:"w",distance:15,hideDelay:200,classes:"chart-tooltip"}},"export":{enable:!0},dateGroup:{enable:!1,selected:"month",groups:[{id:"week",name:"Woche",format:function(a){return d3.time.format("%x")(new Date(1e3*a))}},{id:"month",name:"Monat",format:function(a){return d3.time.format("%b %Y")(new Date(1e3*a))}},{id:"quarter",name:"Quartal",format:function(a){return d3.time.format("%b %Y")(new Date(1e3*a))}}]},dateRange:{enable:!1,selected:{start:null,end:null},ranges:[{name:"Letzten 7 Tage",start:moment(c).subtract(7,"d").unix(),end:null},{name:"Letzter Monat",start:moment(c).subtract(30,"d").unix(),end:null},{name:"Letzten 3 Monate",start:moment(c).subtract(3,"M").unix(),end:null},{name:"Letztes Jahr",start:moment(c).subtract(1,"y").unix(),end:null},{name:"Seit Sendestart",start:1421276400,end:null}]},styles:{classes:{"with-3d-shadow":!0,"with-transitions":!0}}},i={lineChart:{chart:{type:"lineChart"}},multiBarChart:{chart:{type:"multiBarChart",stacked:!0}},pieChart:{chart:{minWidth:null,type:"pieChart",labelType:"percent",labelsOutside:!0,x:function(a){return a.key}}}};d.init=function(){d.error=!1,d.loading=!0,d.config={deepWatchOptions:!1,deepWatchDataDepth:0},angular.isObject(d.options)||(d.options={}),angular.isObject(d.options.chart)||(d.options.chart={}),_.defaultsDeep(d.options,i[d.options.chart.type]||i.lineChart,h),d.$watchGroup(["options.dateGroup.selected","options.dateRange.selected.start","options.dateRange.selected.end"],function(a,b){d.update()}),d.update()},d.updateData=d.update,d.update=_.debounce(function(){e.safeApply(function(){d.error=!1,d.loading=!0,d.data=[],b(function(){a.when(d.updateData()).then(function(a){d.error=!1,d.loading=!1,angular.isArray(a)?d.data=a:d.data=[a]})["catch"](function(a){d.error=!0,d.loading=!1})},200)})},200),d.init()}]}}]),angular.module("app.common").directive("chartDateRange",function(){return{restrict:"A",replace:!0,templateUrl:"app/common/chart/chart-date-range/chart-date-range.html",controller:["$scope","$timeout",function(a,b){a.init=function(){a.date={start:null,end:null},a.timePicker={show:!1},a.datePicker={show:!1},a.tab={selected:"quickselect"},a.$watch("options.dateRange.selected",function(b,c){var d={};angular.isObject(a.options.dateRange.selected)&&(d=a.options.dateRange.selected),a.date=a.date||{},a.date.start=d.start,a.date.end=d.end},!0),a.$watch("date",function(b,c){if(angular.isNumber(a.date.start)&&angular.isNumber(a.date.end)&&a.date.start>a.date.end){var d=a.date.start,e=a.date.end;a.date.start=e,a.date.end=d}},!0),a.$watch("tab.selected",function(b,c){"start"===b||"end"===b?(a.timePicker.show=!0,a.datePicker.show=!0):(a.timePicker.show=!1,a.datePicker.show=!1)})},a.isSelectedRange=function(b){return a.date.start===b.start&&a.date.end===b.end},a.setRange=function(b){a.date.start=b.start,a.date.end=b.end,a.apply()},a.apply=function(){angular.isObject(a.options.dateRange.selected)||(a.options.dateRange.selected={}),a.options.dateRange.selected.start=a.date.start,a.options.dateRange.selected.end=a.date.end},a.clear=function(){a.date.start=null,a.date.end=null,a.apply()},a.init()}]}}),angular.module("app.common").directive("chartExport",function(){return{restrict:"A",replace:!0,templateUrl:"app/common/chart/chart-export/chart-export.html",link:function(a,b,c,d){a.chart=b.closest(".chart").find("nvd3").first()},controller:["$scope","Notification",function(a,b){a.init=function(){a.exportChart=[{name:"SVG",exec:a.exportErrorWrapper(a.exportChartSVG)},{name:"PNG",exec:a.exportErrorWrapper(a.exportChartPNG)}],a.exportData=[{name:"CSV",exec:a.exportErrorWrapper(a.exportDataCSV)},{name:"JSON",exec:a.exportErrorWrapper(a.exportDataJSON)}]},a.exportErrorWrapper=function(a){return function(){try{a()}catch(c){console.error(c),b.error({title:"Fehler beim Export",message:"Dein Browser unterstützt ggf. nicht die notwendigen Vorroussetzungen um die Datei zu Speichern",delay:null})}}},a.exportDataCSV=function(){var b=_.map(a.data,function(a){return a.values});b.push(function(){var b=_.map(arguments,function(b){return a.options.chart.y(b)});return _.concat([a.options.chart.x(arguments[0])],b)});var c=_.zipWith.apply(_,b),d=_.map(a.data,function(a){return a.key}),e=_.concat([d],c),f=",";_.each(e,function(a){f+=_.join(a,",")+"\n"});var g=new Blob([f],{type:"text/plain;charset=utf-8"});saveAs(g,"data.csv")},a.exportDataJSON=function(){var b=_.map(a.data,function(b){var c=_.map(b.values,function(b){return{x:a.options.chart.x(b),y:a.options.chart.y(b)}});return{key:b.key,values:c}}),c=angular.toJson(b,!0),d=new Blob([c],{type:"application/json;charset=utf-8"});saveAs(d,"data.json")},a.exportChartSVG=function(){for(var b=a.chart.children("svg")[0].cloneNode(!0),c="",d=document.styleSheets,e=0;e<d.length;e++)for(var f=d[e].cssRules,g=0;g<f.length;g++){var h=f[g];if(!angular.isUndefined(h.style))try{var i=b.querySelectorAll(h.selectorText);i.length>0&&(c+=h.selectorText+" { "+h.style.cssText+" }\n")}catch(j){}}var k=document.createElement("style");k.setAttribute("type","text/css"),k.innerHTML="<![CDATA[\n"+c+"\n]]>";var l=document.createElement("defs");l.appendChild(k),b.insertBefore(l,b.firstChild),b.setAttribute("version","1.1"),b.setAttribute("xmlns","http://www.w3.org/2000/svg"),b.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var m="";m+='<?xml version="1.0" standalone="no"?>',m+='<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">',m+=b.outerHTML;var n=new Blob([m],{type:"text/plain"});saveAs(n,"data.svg")},a.exportChartPNG=function(){a.convertChartToBlob("image/png",function(a){saveAs(a,"chart.png")})},a.convertChartToBlob=function(b,c){var d=a.chart.children("svg").first(),e=d[0].outerHTML;d.parent().after($('<canvas id="tmpCanvas" width="1" height="1"></canvas>'));var f=$("#tmpCanvas")[0];try{canvg(f,e),f.toBlob(c,b,1)}catch(g){throw g}finally{$(f).remove()}},a.init()}]}}),angular.module("app.common").directive("chartDateGroup",function(){return{restrict:"A",replace:!0,templateUrl:"app/common/chart/chart-date-group/chart-date-group.html",controller:["$scope",function(a){}]}}),angular.module("app.common").factory("ChartTemplatesSrv",["VideosSrv",function(a){var b={};return b.videosCountByDate=function(b,c,d){function e(){var e={published:f.dateRange.selected},g=a.filter(b,e),h=a.groupByDate(g,d,f.dateGroup.selected);return _.map(h,function(a){var b=_.map(a.videos,function(a){return{x:a.date,y:a.videos.length}}),d=c;return angular.isFunction(c)&&(d=c(a)),{key:d,columns:{x:"date",y:"count"},values:b}})}var f={chart:{type:"multiBarChart",xAxis:{axisLabel:"Datum"},yAxis:{axisLabel:"Video Anzahl"}},dateGroup:{enable:!0,selected:"month"},dateRange:{enable:!0},title:{enable:!0,text:"Gesamte Video Anzahl"}};return{update:e,options:f}},b.videosDurationByDate=function(b,c,d){function e(){var e={published:f.dateRange.selected},g=a.filter(b,e),h=a.groupByDate(g,d,f.dateGroup.selected);return _.map(h,function(a){var b=_.map(a.videos,function(a){var b=_.sumBy(a.videos,function(a){return a.duration});return{x:a.date,y:b}}),d=c;return angular.isFunction(c)&&(d=c(a)),{key:d,columns:{x:"date",y:"durationTotal"},values:b}})}var f={chart:{type:"multiBarChart",xAxis:{axisLabel:"Datum"},yAxis:{axisLabel:"Video Laufzeit (Stunden)",tickFormat:function(a){return d3.format(".1f")(a/3600)+"h"}}},dateGroup:{enable:!0,selected:"month"},dateRange:{enable:!0},title:{enable:!0,text:"Gesamte Video Laufzeit"}};return{update:e,options:f}},b.videosViewsTotalByDate=function(b,c,d){function e(){var e={published:f.dateRange.selected},g=a.filter(b,e),h=a.groupByDate(g,d,f.dateGroup.selected);return _.map(h,function(a){var b=_.map(a.videos,function(a){var b=_.sumBy(a.videos,function(a){return a.stats.viewCount});return{x:a.date,y:b}}),d=c;return angular.isFunction(c)&&(d=c(a)),{key:d,columns:{x:"date",y:"viewsTotal"},values:b}})}var f={chart:{type:"multiBarChart",xAxis:{axisLabel:"Datum"},yAxis:{axisLabel:"Video Aufrufe (Millionen)",tickFormat:function(a){return d3.format(".2f")(a/1e6)+"M"}}},dateGroup:{enable:!0,selected:"month"},dateRange:{enable:!0},title:{enable:!0,text:"Gesamte Video Aufrufe"}};return{update:e,options:f}},b.videosViewsMeanByDate=function(b,c,d){function e(){var e={published:f.dateRange.selected},g=a.filter(b,e),h=a.groupByDate(g,d,f.dateGroup.selected);return _.map(h,function(a){var b=_.map(a.videos,function(a){var b=Math.round(_.meanBy(a.videos,function(a){return a.stats.viewCount}))||0;return{x:a.date,y:b}}),d=c;return angular.isFunction(c)&&(d=c(a)),{key:d,columns:{x:"date",y:"viewsMean"},values:b}})}var f={chart:{type:"multiBarChart",xAxis:{axisLabel:"Datum"},yAxis:{axisLabel:"Durchschnittliche Video Aufrufe (Tausend)",tickFormat:function(a){return d3.format(".2f")(a/1e3)+"T"}}},dateGroup:{enable:!0,selected:"month"},dateRange:{enable:!0},title:{enable:!0,text:"Durchschnittliche Video Aufrufe"}};return{update:e,options:f}},b.videosViewsDistribution=function(b,c,d){function e(){var e={published:f.dateRange.selected},g=2e3,h=a.filter(b,e),i=a.groupByBuckets(h,d,function(a){return a.stats.viewCount},g);return _.map(i,function(a){var b=_.map(a.videos,function(a){return{x:a.bucket,y:a.videos.length}}),d=c;return angular.isFunction(c)&&(d=c(a)),{key:d,columns:{x:"bucket",y:"count"},values:b}})}var f={chart:{type:"multiBarChart",xAxis:{axisLabel:"Video Aufrufe (Tausend)",tickFormat:function(a){return d3.format("d")(a/1e3)+"T"}},yAxis:{axisLabel:"Video Anzahl",tickFormat:function(a){return d3.format("d")(a)}}},dateRange:{enable:!0},title:{enable:!0,text:"Verteilung der Video Aufrufe"}};return{update:e,options:f}},b}]),angular.module("app.common").directive("videosView",function(){return{restrict:"A",scope:{tableParams:"=videosView",tableOptions:"=videosViewOptions",videos:"=videosViewData",mode:"=videosViewMode"},templateUrl:"app/common/videos-view/videos-view.html",controller:["$scope","$timeout","NgTableParams","VideosExtractorSrv","VideosSrv",function(a,b,c,d,e){a.init=function(){a.imagePlaceholders=a.$parent.imagePlaceholders,a.tableParams=new c({filter:{$:"a"}},{dataset:a.videos,filterOptions:{filterFn:function(b){return a.videosCache||(a.videosCache=e.filter(b,a.tableOptions.filter),a.verifyPageRange()),a.videosCache}}}),a.tableHidden=!0,a.optionsHidden=!0,b(function(){a.tableHidden=!1},100),a.$watchCollection("tableOptions.order",function(b,c){a.tableParams.sorting(a.tableOptions.order.column,a.tableOptions.order.type)}),a.$watch("tableOptions.display.count",function(b,c){a.tableParams.count(a.tableOptions.display.count)}),a.$watch("tableOptions.display.page",function(b,c){a.tableParams.page(a.tableOptions.display.page)}),a.$watch("tableParams.sorting()",function(b,c){var d=a.tableParams.sorting();for(var e in d){a.tableOptions.order.column=e,a.tableOptions.order.type=d[e];break}}),a.$watch("tableParams.count()",function(b,c){a.tableOptions.display.count=a.tableParams.count()}),a.$watch("tableParams.page()",function(b,c){a.verifyPageRange(),a.tableOptions.display.page=a.tableParams.page()}),a.$watch("tableOptions.filter",function(b,c){a.clearVideosCache()},!0),a.$on("video.changed",function(b){a.clearVideosCache(),e.save()})},a.verifyPageRange=function(){if(a.videosCache){var b=a.videosCache.length,c=a.tableParams.page(),d=a.tableParams.count(),e=Math.ceil(b/d);c>e?a.tableParams.page(e):1>c&&a.tableParams.page(1)}},a.getRatingPercent=function(a){return a&&a.stats?Math.round(100*a.stats.likeCount/(a.stats.likeCount+a.stats.dislikeCount))||0:0},a.getHighlight=function(a){return 0===a.shows.length||0===a.hosts.length},a.getLiveFrom=function(a){if(a.aired){var b=new Date(1e3*a.aired);return b.setHours(0,0,0),b.getTime()/1e3}},a.getLiveTo=function(a){if(a.aired){var b=new Date(1e3*a.aired);return b.setHours(23,59,59),b.getTime()/1e3}},a.videoChanged=function(b){a.$broadcast("video.changed",b)},a.extractAll=function(a){d.extractShows(a),d.extractHosts(a),d.extractSeries(a)},a.extractShows=function(a){d.extractShows(a),e.save()},a.extractHosts=function(a){d.extractHosts(a),e.save()},a.extractSeries=function(a){d.extractSeries(a),e.save()},a.copy=function(b){a.clipboard=b},a.paste=function(b){a.clipboard&&(angular.copy(a.clipboard.shows,b.shows),angular.copy(a.clipboard.hosts,b.hosts),angular.copy(a.clipboard.series,b.series),a.videoChanged(b))},a["delete"]=function(b){e["delete"]({id:b.id}),a.videoChanged(b)},a.addShow=function(b,c){e.addShow(b,c),a.videoChanged(b)},a.removeShow=function(b,c){e.removeShow(b,c),a.videoChanged(b)},a.addHost=function(b,c){e.addHost(b,c),a.videoChanged(b)},a.removeHost=function(b,c){e.removeHost(b,c),a.videoChanged(b)},a.addSeries=function(b,c){e.addSeries(b,c),a.videoChanged(b)},a.removeSeries=function(b,c){e.removeSeries(b,c),a.videoChanged(b)},a.clearVideosCache=function(){a.videosCache=null},a.update=function(){a.tableParams.reload()},a.init()}]}}),angular.module("app.common").directive("videosOptions",["$timeout","$parse",function(a,b){return{restrict:"A",templateUrl:"app/common/videos-view/videos-options/videos-options.html",controller:["$scope","ngTableEventsChannel","ChannelsSrv","ShowsSrv","HostsSrv","SeriesSrv",function(a,b,c,d,e,f){a.init=function(){a.channels=c.all(),a.shows=d.all(),a.hosts=e.all(),a.series=f.all(),a.displayViewOptions=[{value:"list",name:"Liste",icon:"fa-th-list"},{value:"card",
name:"Kacheln",icon:"fa-th-large"}],a.displayCountOptions=[25,50,100],a.orderByOptions=[{value:"title",name:"Titel"},{value:"channel",name:"Kanal"},{value:"duration",name:"Laufzeit"},{value:"published",name:"Veröffentlicht"},{value:"aired",name:"Ausgestrahlt"},{value:"stats.viewCount",name:"Views"},{value:"stats.likeCount",name:"Likes"},{value:"stats.dislikeCount",name:"Dislikes"},{value:"stats.commentCount",name:"Kommentare"}],a.orderTypeOptions=[{value:"asc",name:"Aufsteigend"},{value:"desc",name:"Absteigend"}],a.filterMatchOptions=[{value:"and",name:"Und"},{value:"or",name:"Oder"}],a.filterSelectionOptions=[{value:-1,name:"Egal"},{value:!0,name:"Ja"},{value:!1,name:"Nein"}],a.defaultOptions={display:{view:"card",count:25,page:1},order:{column:"published",type:"desc"},filter:{title:{text:null,regex:!1,sensitive:!1},channels:{filter:[]},shows:{filter:[],match:"or"},hosts:{filter:[],match:"or"},series:{filter:[],match:"or"},duration:{start:null,end:null},published:{start:null,end:null},aired:{start:null,end:null},event:-1,noShow:-1,noHost:-1,noSeries:-1,online:!0,valid:-1,invert:!1}},(!angular.isObject(a.tableOptions)||angular.equals({},a.tableOptions))&&a.resetOptions()},a.addFilterChannel=function(b){-1===a.tableOptions.filter.channels.filter.indexOf(b)&&a.tableOptions.filter.channels.filter.push(b)},a.removeFilterChannel=function(b){var c=a.tableOptions.filter.channels.filter.indexOf(b);c>-1&&a.tableOptions.filter.channels.filter.splice(c,1)},a.addFilterShow=function(b){-1===a.tableOptions.filter.shows.filter.indexOf(b)&&a.tableOptions.filter.shows.filter.push(b)},a.removeFilterShow=function(b){var c=a.tableOptions.filter.shows.filter.indexOf(b);c>-1&&a.tableOptions.filter.shows.filter.splice(c,1)},a.addFilterHost=function(b){-1===a.tableOptions.filter.hosts.filter.indexOf(b)&&a.tableOptions.filter.hosts.filter.push(b)},a.removeFilterHost=function(b){var c=a.tableOptions.filter.hosts.filter.indexOf(b);c>-1&&a.tableOptions.filter.hosts.filter.splice(c,1)},a.addFilterSeries=function(b){-1===a.tableOptions.filter.series.filter.indexOf(b)&&a.tableOptions.filter.series.filter.push(b)},a.removeFilterSeries=function(b){var c=a.tableOptions.filter.series.filter.indexOf(b);c>-1&&a.tableOptions.filter.series.filter.splice(c,1)},a.resetOptions=function(){angular.copy(a.defaultOptions,a.tableOptions)},a.applyFilter=function(){a.update()},a.resetFilter=function(){a.clearVideosCache(),a.resetOptions(),a.applyFilter()},a.init()}]}}]),angular.module("app.common").directive("videosEdit",function(){return{restrict:"A",templateUrl:"app/common/videos-view/videos-edit/videos-edit.html",controller:["$scope","VideosSrv",function(a,b){a.tabs={selected:"form"},a.$watch("video",function(c,d){a.valid=b.isValid(a.video),b.save(),a.videoChanged(a.video)},!0),a.close=function(){a.$parent.metadataVisible=!1}}]}}),angular.module("app.common").directive("touchTooltip",["$tooltip",function(a){return{restrict:"A",link:function(b,c,d,e){function f(a){a.preventDefault()}var g=a(c);g.$options.onShow=function(){c.off("click",f)},g.$options.onHide=function(){c.on("click",f)},c.on("click",f)}}}]),angular.module("app.common").directive("tableView",["$compile",function(a){return{restrict:"A",replace:!0,transclude:!0,scope:{tableParams:"=tableView",tableOptions:"=tableViewOptions",data:"=tableViewData"},templateUrl:"app/common/table-view/table-view.html",link:function(b,c,d,e,f){b.views=[];var g=f().parent(),h=g.attr("table-view-options"),i=g.find("title").first();b.title=i.text();var j=g.find("[template]");j.each(function(){var a=$(this),c={id:a.attr("id"),name:a.attr("name"),icon:a.attr("icon"),template:a.attr("template")};b.views.push(c),a.attr("id",null),a.attr("name",null),a.attr("icon",null),a.attr("template",null),a.attr("class","animate-table-view"),a.attr("ng-include","'"+c.template+"'"),a.attr("ng-if",h+".display.view === '"+c.id+"'")});var k=a(g.html())(b.$parent);c.find(".views").append(k)},controller:["$scope","NgTableParams",function(a,b){a.init=function(){a.imagePlaceholders=a.$parent.imagePlaceholders,a.displayCountOptions=[10,25,50],a.tableParams=new b({},{dataset:a.data}),a.$watchCollection("tableOptions.order",function(b,c){a.tableParams.sorting(a.tableOptions.order.column,a.tableOptions.order.type)}),a.$watch("tableOptions.display.count",function(b,c){a.tableParams.count(a.tableOptions.display.count)}),a.$watch("tableOptions.filter",function(b,c){a.tableParams.filter({$:a.tableOptions.filter})}),a.$watch("tableOptions.display.page",function(b,c){a.tableParams.page(a.tableOptions.display.page)}),a.$watch("tableParams.sorting()",function(b,c){var d=a.tableParams.sorting();for(var e in d){a.tableOptions.order.column=e,a.tableOptions.order.type=d[e];break}}),a.$watch("tableParams.count()",function(b,c){a.tableOptions.display.count=a.tableParams.count()}),a.$watch("tableParams.filter()",function(b,c){a.tableOptions.filter=a.tableParams.filter().$||""}),a.$watch("tableParams.page()",function(b,c){a.tableOptions.display.page=a.tableParams.page()})},a.init()}]}}]),angular.module("app.common").directive("tableOptions",function(){return{restrict:"A",replace:!0,templateUrl:"app/common/table-view/table-options/table-options.html",controller:["$scope",function(a){a.init=function(){a.defaultOptions={display:{view:"list",count:10},order:{column:"name",type:"asc"},filter:""},(!angular.isObject(a.tableOptions)||angular.equals({},a.tableOptions))&&a.resetOptions()},a.resetOptions=function(){angular.copy(a.defaultOptions,a.tableOptions)},a.init()}]}}),angular.module("app.common").directive("tablePagination",["ngTableEventsChannel",function(a){return{restrict:"A",scope:{tableParams:"=tablePagination",align:"="},templateUrl:"app/common/table-pagination/table-pagination.html",controller:["$scope",function(b){b.init=function(){b.pagination={},a.onPagesChanged(b.syncPagination,b,b.tableParams),a.onAfterReloadData(b.syncPagination,b,b.tableParams),a.onDatasetChanged(b.syncPagination,b,b.tableParams),b.syncPagination()},b.prev=function(){b.page(b.pagination.current-1)},b.next=function(){b.page(b.pagination.current+1)},b.page=function(a){b.tableParams.page(a)},b.syncPagination=function(){if(angular.isObject(b.tableParams)){var a=b.pagination.total;b.pagination.current=b.tableParams.page(),b.pagination.count=b.tableParams.count(),b.pagination.total=Math.ceil(b.tableParams.total()/b.pagination.count),b.pagination.first=b.pagination.current<=1,b.pagination.last=b.pagination.current>=b.pagination.total,b.pagination.total!==a&&(b.pagination.options=_.range(1,b.pagination.total+1))}},b.init()}]}}]),angular.module("app.data",["app.data.videos","app.data.live"]),angular.module("app.data").config(function(){}),angular.module("app.data").service("YoutubeApiSrv",["$http","ConfigSrv",function(a,b){function c(){return b.get("youtubeApiKey")}var d="https://www.googleapis.com/youtube/v3/",e={};return e.channels=function(b){var e="";return"id"in b?e="&id="+b.id:"username"in b&&(e="&forUsername="+b.username),a.get(d+"channels?part=contentDetails,snippet"+e+"&key="+c()).then(function(a){return a.data})},e.playlistItems=function(b,e){var f="";return angular.isString(e)&&(f="&pageToken="+e),a.get(d+"playlistItems?part=snippet&playlistId="+b+"&maxResults=50"+f+"&key="+c()).then(function(a){return a.data})},e.videos=function(b){for(var e="",f=0;f<b.length;f++)f>0&&(e+=","),e+=b[f];return a.get(d+"videos?part=contentDetails,statistics&id="+e+"&key="+c()).then(function(a){return a.data})},e}]),angular.module("app.data").factory("GithubApiSrv",["$http","ConfigSrv",function(a,b){function c(){return b.get("githubApiOAuthToken")}function d(){return b.get("githubRepository")}var e="https://api.github.com/",f={};return f.getRefs=function(b){return a({method:"GET",url:e+"repos/"+d()+"/git/refs/heads/"+b,headers:{Authorization:"token "+c()}}).then(function(a){return a.data})},f.updateRefs=function(b,f,g){return a({method:"PATCH",url:e+"repos/"+d()+"/git/refs/heads/"+b,headers:{Authorization:"token "+c()},data:{sha:f,force:g}}).then(function(a){return a.data})},f.getTree=function(b){return a({method:"GET",url:e+"repos/"+d()+"/git/trees/"+b+"?recursive=1",headers:{Authorization:"token "+c()}}).then(function(a){return a.data})},f.createTree=function(b,f){return a({method:"POST",url:e+"repos/"+d()+"/git/trees",headers:{Authorization:"token "+c()},data:{base_tree:b,tree:f}}).then(function(a){return a.data})},f.getCommit=function(b){return a({method:"GET",url:e+"repos/"+d()+"/git/commits/"+b,headers:{Authorization:"token "+c()}}).then(function(a){return a.data})},f.createCommit=function(b,f,g){return a({method:"POST",url:e+"repos/"+d()+"/git/commits",headers:{Authorization:"token "+c()},data:{message:g,parents:[b],tree:f}}).then(function(a){return a.data})},f}]),angular.module("app.data").service("IgdbApiSrv",["$http","ConfigSrv",function(a,b){function c(){return b.get("igdbApiKey")}var d="https://igdbcom-internet-game-database-v1.p.mashape.com/",e={};return e.games=function(b,e,f,g){return angular.isArray(e)||(e=["url","name","summary","cover"]),angular.isNumber(f)||(f=10),angular.isNumber(g)||(g=0),e=e.join(","),a({method:"GET",url:d+"games/?fields="+e+"&limit="+f+"&offset="+g+"&search="+b,headers:{"X-Mashape-Key":c()}}).then(function(a){return a.data})},e}]),angular.module("app.data.videos",["uuid4"]),angular.module("app.data.videos").run(["VideosDataSrv",function(a){a.init()}]);var registeredVideoDataServices={};angular.module("app.data.videos").service("VideosDataSrv",["$http","$q","$injector","md5","ConfigSrv",function(a,b,c,d,e){var f={},g=null,h=[],i={};return f.init=function(){h=[],i={};for(var a in registeredVideoDataServices){var b=c.get(registeredVideoDataServices[a]);h.push(b),i[a]=b}},f.save=function(){_.map(h,function(a){return a.save()})},f.loadRemoteMetadata=function(b){var c=urljoin(e.get("githubBaseUrl"),e.get("githubRepository"),e.get("githubBranch"),e.get("videosPath"),"/metadata.json?"+moment().unix());return a.get(c).then(function(a){return g=a.data})},f.metadata=function(){return g},f.loadRemote=function(){var a=_.map(h,function(a){return a.clear(),a.loadRemote()});return b.all(a).then(function(a){})},f.loadLocal=function(){var a=_.map(h,function(a){return a.clear(),a.loadLocal()});return b.all(a).then(function(a){})},f.getServices=function(){return h},f.getService=function(a){return i[a]},f.hash=function(){var a=_.map(h,function(a){return[a.all(),a.schema]}),b=angular.toJson(a,!0);return d.createHash(b)},f}]),angular.module("app.data.videos").factory("VideosDataBackupSrv",["$filter","uuid4","VideosDataSrv",function(a,b,c){function d(){return b.generate().substring(0,4)}var e=null,f={};return f.clear=function(){e=e||[],angular.copy([],e)},f.loadLocal=function(){return localforage.getItem("backups").then(function(a){return f.load(a)})},f.load=function(a){return f.clear(),a!==e&&angular.isArray(a)&&angular.copy(a,e),e},f.save=_.debounce(function(){console.log("save backup");var a=f.all();localforage.setItem("backups",a)},1e3),f.all=function(){return e},f.findById=function(b){var c=f.all(),d=a("filter")(c,{id:b},!0);return 1===d.length?d:null},f.create=function(){var a=f.all(),b={},e=c.getServices();_.map(e,function(a){b[a.id]=a.all()});for(var g={time:moment().unix(),hash:c.hash(),data:b};!g.id;){var h=d();f.findById(h)||(g.id=h)}a.push(g)},f.restore=function(a){_.forOwn(a.data,function(a,b){var d=c.getService(b);d&&d.load(a)})},f["delete"]=function(a){for(var b=f.all(),c=0;c<b.length;c++)b[c].id===a.id&&b.splice(c,1)},f.clear(),f}]),angular.module("app.data.videos").filter("videosResolve",["VideosDataSrv",function(a){return function(b,c){var d=a.getService(c);return d?d.findById(b):b}}]),angular.module("app.data.videos").service("DataBaseCtrl",["$rootScope","$filter","$timeout","$http","$q","uuid4","ConfigSrv","VideosDataSrv",function(a,b,c,d,e,f,g,h){var i=function(){function a(a){return angular.isUndefined(a)?"undefined":null===a?"null":angular.isArray(a)?"array":angular.isObject(a)?"object":typeof a}function c(a,b){return a===b?!0:null==a||null==b?!1:a.length!==b.length?!1:_.every(a,function(a){return-1!==b.indexOf(a)})}function i(a){return angular.isString(a)&&"$"===a.charAt(0)?a.substring(1):null}function j(b,d){var e=a(d);if(b.allowNull&&"null"===e)return!0;var f=i(b.type);if(f){var g=h.getService(f);if(!g)return!1;var k=g.findById(d);return k?!0:!1}if(b.type!==e)return!1;if("object"===b.type&&b.properties){if(!c(Object.keys(b.properties),Object.keys(d)))return!1;for(var l in b.properties)if(!j(b.properties[l],d[l]))return!1}if("array"===b.type&&b.arrayType)for(var m=0;m<d.length;m++)if(!j(b.arrayType,d[m]))return!1;return!0}function k(b,c){var d=a(c);if(b.allowNull&&"null"===d)return null;var e=i(b.type);if(e){var f=h.getService(e);if(!f)return angular.copy(b["default"]);var g=f.findById(c);return g?c:angular.copy(b["default"])}if("object"===b.type&&b.properties){"object"!==d&&(c={});var j={};for(var l in b.properties)j[l]=k(b.properties[l],c[l]);return j}if("array"===b.type&&b.arrayType){"array"!==d&&(c=[]);for(var m=[],n=0;n<c.length;n++)m.push(k(b.arrayType,c[n]));return m}return b.type===d?c:angular.copy(b["default"])}function l(){return f.generate().substring(0,4)}function m(){return angular.copy({},p),_.each(o,function(a){p[a.id]=a}),p}var n=this,o=null,p=null;n.id="UnknownId",this.name="UnknownName",n.schema={},n.clear=function(){o=o||[],p=p||{},o.length=0,angular.copy({},p)},n.loadRemote=function(){return h.loadRemoteMetadata().then(function(a){var b=urljoin(g.get("githubBaseUrl"),g.get("githubRepository"),g.get("githubBranch"),g.get("videosPath")),c=_.map(a.files[n.id],function(a){return urljoin(b,a)}),f=_.map(c,function(a){return d.get(a)});return e.all(f)}).then(function(a){a=_.map(a,function(a){return a.data});var b=_.flatten(a);return n.load(b)})},n.loadLocal=function(){return localforage.getItem(n.id).then(function(a){return n.load(a)})},n.load=function(a){return n.clear(),a!==o&&angular.isArray(a)&&(angular.copy(a,o),m()),o},n.save=_.debounce(function(){console.log("save "+n.id),localforage.setItem(n.id,o)},1e3),n.total=function(){return o.length},n.isValid=function(a){if(angular.isObject(a)){var b=angular.copy(a);return j(n.schema,b)}return _.every(o,function(a){return n.isValid(a)})},n.force=function(){_.each(o,function(a){if(!n.isValid(a)){var b=k(n.schema,a);angular.copy(b,a)}}),n.save()},n.all=function(){return o},n.findById=function(a){if(angular.isString(a))return p[a];if(angular.isArray(a)){for(var b=[],c=0;c<a.length;c++){var d=p[a[c]];d&&b.push(d)}return b}return null},n.find=function(a){return b("filter")(o,a,!0)},n.findOne=function(a){var b=n.find(a);return b.length>0?b[0]:null},n.create=function(a){angular.isObject(a)||(a={});for(var b=k(n.schema,a);!b.id;){var c=l();0===n.find({id:c}).length&&(b.id=c)}return o.push(b),p[b.id]=b,b},n["delete"]=function(a){var b=0,c=_.map(n.find(a),function(a){return a.id});if(c.length>0)for(var d=o.length-1;d>=0;d--){var e=o[d].id;c.indexOf(e)>-1&&(o.splice(d,1),delete p[e],b++)}return b},n.clear()};return i}]),angular.module("app.data.videos").service("ChannelsSrv",["DataBaseCtrl",function(a){return a.call(this),this.id="channels",this.name="Kanäle",this.schema={type:"object",properties:{id:{type:"string","default":""},username:{type:"string","default":""},channelId:{type:"string","default":""},playlistId:{type:"string","default":""},description:{type:"string","default":""},title:{type:"string","default":""},image:{type:"string","default":""}}},this}]),registerVideoDataService("channels","ChannelsSrv"),angular.module("app.data.videos").service("VideosSrv",["$filter","$q","DataBaseCtrl","ShowsSrv","YoutubeApiSrv",function(a,b,c,d,e){function f(a,b){return _.some(b,function(b){return a.indexOf(b)>=0})}function g(a,b){return _.every(b,function(b){return a.indexOf(b)>=0})}c.call(this);var h=this;this.id="videos",this.name="Videos",this.schema={type:"object",properties:{id:{type:"string","default":""},title:{type:"string","default":""},published:{type:"number",allowNull:!0,"default":null},aired:{type:"number",allowNull:!0,"default":null},duration:{type:"number","default":0},channel:{type:"$channels","default":null},shows:{type:"array",arrayType:{type:"$shows"},"default":[]},hosts:{type:"array",arrayType:{type:"$hosts"},"default":[]},series:{type:"array",arrayType:{type:"$series"},"default":[]},stats:{type:"object",properties:{commentCount:{type:"number",allowNull:!0,"default":null},viewCount:{type:"number",allowNull:!0,"default":null},dislikeCount:{type:"number",allowNull:!0,"default":null},likeCount:{type:"number",allowNull:!0,"default":null}}},online:{type:"boolean","default":!1}}},this.addShow=function(a,b){angular.isArray(b)||(b=[b]),a.shows=a.shows||[];for(var c=0,d=0;d<b.length;d++){var e=b[d];-1===a.shows.indexOf(e.id)&&(a.shows.push(e.id),c++)}return c},this.removeShow=function(a,b){angular.isArray(b)||(b=[b]),a.shows=a.shows||[];for(var c=0,d=0;d<b.length;d++){var e=b[d],f=a.shows.indexOf(e.id);f>-1&&(a.shows.splice(f,1),c++)}return c},this.addHost=function(a,b){angular.isArray(b)||(b=[b]),a.hosts=a.hosts||[];for(var c=0,d=0;d<b.length;d++){var e=b[d];-1===a.hosts.indexOf(e.id)&&(a.hosts.push(e.id),c++)}return c},this.removeHost=function(a,b){angular.isArray(b)||(b=[b]),a.hosts=a.hosts||[];for(var c=0,d=0;d<b.length;d++){var e=b[d],f=a.hosts.indexOf(e.id);f>-1&&(a.hosts.splice(f,1),c++)}return c},this.addSeries=function(a,b){angular.isArray(b)||(b=[b]),a.series=a.series||[];for(var c=0,d=0;d<b.length;d++){var e=b[d];-1===a.series.indexOf(e.id)&&(a.series.push(e.id),c++)}return c},this.removeSeries=function(a,b){angular.isArray(b)||(b=[b]),a.series=a.series||[];for(var c=0,d=0;d<b.length;d++){var e=b[d],f=a.series.indexOf(e.id);f>-1&&(a.series.splice(f,1),c++)}return c},this.filter=function(a,b){angular.isObject(b)||(b={});var c,e=!1,i=!1,j=!1,k=!1,l=!1,m=!1,n=!1,o=!1,p=!1,q=!1,r=!1,s=!1,t=!1,u=!1,v=!1,w=!1,x=!1;angular.isObject(b.title)&&angular.isString(b.title.text)&&(e=!0,c=b.title.regex?new RegExp(b.title.text,b.title.sensitive?"":"i"):b.title.sensitive?b.title.text:b.title.text.toLowerCase()),angular.isObject(b.channels)&&angular.isArray(b.channels.filter)&&(i=b.channels.filter.length>0),angular.isObject(b.shows)&&angular.isArray(b.shows.filter)&&(j=b.shows.filter.length>0),angular.isObject(b.hosts)&&angular.isArray(b.hosts.filter)&&(k=b.hosts.filter.length>0),angular.isObject(b.series)&&angular.isArray(b.series.filter)&&(l=b.series.filter.length>0),angular.isObject(b.duration)&&(m=angular.isNumber(b.duration.start)&&b.duration.start>0,n=angular.isNumber(b.duration.end)&&b.duration.end>0);var y=2524608e3,z=0,A=0;angular.isObject(b.published)&&(angular.isNumber(b.published.start)&&b.published.start>0?(z=b.published.start>=y?b.published.start/1e3:b.published.start,o=!0):moment.isMoment(b.published.start)?(z=z.unix(),o=!0):angular.isDate(b.published.start)&&(z=z.getTime()/1e3,o=!0),angular.isNumber(b.published.end)&&b.published.end>0?(A=b.published.end>=y?b.published.end/1e3:b.published.end,p=!0):moment.isMoment(b.published.end)?(A=A.unix(),p=!0):angular.isDate(b.published.end)&&(A=A.getTime()/1e3,p=!0));var B=0,C=0;angular.isObject(b.aired)&&(angular.isNumber(b.aired.start)&&b.aired.start>0?(B=b.aired.start>=y?b.aired.start/1e3:b.aired.start,q=!0):moment.isMoment(b.aired.start)?(B=B.unix(),q=!0):angular.isDate(b.aired.start)&&(B=B.getTime()/1e3,q=!0),angular.isNumber(b.aired.end)&&b.aired.end>0?(C=b.aired.end>=y?b.aired.end/1e3:b.aired.end,r=!0):moment.isMoment(b.aired.end)?(C=C.unix(),r=!0):angular.isDate(b.aired.end)&&(C=C.getTime()/1e3,r=!0));var D,E;s=angular.isBoolean(b.event),s&&(D=d.find({event:!0}),D=_.map(D,"id"),E=function(a){return-1!==D.indexOf(a)}),t=angular.isBoolean(b.noShow),u=angular.isBoolean(b.noHost),v=angular.isBoolean(b.noSeries),w=angular.isBoolean(b.online),x=angular.isBoolean(b.valid);for(var F=[],G=0;G<a.length;G++){var H=!0,I=a[G];H&&e&&(H=!1,H=b.title.regex?null!==c.exec(I.title):b.title.sensitive?I.title.indexOf(c)>-1:I.title.toLowerCase().indexOf(c)>-1),H&&i&&(H=f([I.channel],b.channels.filter)),H&&j&&(H="and"===b.shows.match?g(I.shows,b.shows.filter):f(I.shows,b.shows.filter)),H&&k&&(H="and"===b.hosts.match?g(I.hosts,b.hosts.filter):f(I.hosts,b.hosts.filter)),H&&l&&(H="and"===b.series.match?g(I.series,b.series.filter):f(I.series,b.series.filter)),H&&m&&(H=I.duration>=b.duration.start),H&&n&&(H=I.duration<=b.duration.end),H&&o&&(H=I.published>=z),H&&p&&(H=I.published<=A),H&&q&&(H=I.aired>=B),H&&r&&(H=I.aired<=C),H&&s&&(H=_.some(I.shows,E),b.event||(H=!H)),H&&t&&(H=0===I.shows.length,b.noShow||(H=!H)),H&&u&&(H=0===I.hosts.length,b.noHost||(H=!H)),H&&v&&(H=0===I.series.length,b.noSeries||(H=!H)),H&&w&&(H=I.online,b.online||(H=!H)),H&&x&&(H=h.isValid(I),b.valid||(H=!H)),b.invert===!0&&(H=!H),H&&F.push(I)}return F},this.groupBy=function(a,b){return _(a).groupBy(b).map(function(a,b){return{target:b,videos:a}}).value()},this.groupByBuckets=function(a,b,c,d){c=_.iteratee(c);var e=angular.isString(b)||angular.isFunction(b),f=a;f=e?h.groupBy(f,b):[{target:null,videos:a}];var g=[];return f=_.map(f,function(a){return a.videos=_(a.videos).groupBy(function(a){return Math.floor(c(a)/d)*d}).map(function(a,b){return b=parseInt(b),g.push(b),{bucket:b,videos:a}}).value(),a}),g=_.uniq(g),f=_.map(f,function(a){var b=_.map(a.videos,function(a){return a.bucket});return _.each(g,function(c){-1===b.indexOf(c)&&a.videos.push({bucket:c,videos:[]})}),a.videos=_(a.videos).orderBy(function(a){return a.bucket}).value(),a}),f=_.map(f,function(a){return a.videos=_(a.videos).orderBy(function(a){return a.bucket}).value(),a})};var i={},j=[6,0,1,2,3,4,5];return i.week=function(a){var b=new Date(1e3*a.published);return b.setMilliseconds(0),b.setSeconds(0),b.setMinutes(0),b.setHours(0),b.setDate(b.getDate()-j[b.getDay()]),Math.round(b.getTime()/1e3)},i.month=function(a){var b=new Date(1e3*a.published);return b.setMilliseconds(0),b.setSeconds(0),b.setMinutes(0),b.setHours(0),b.setDate(1),Math.round(b.getTime()/1e3)},i.quarter=function(a){var b=new Date(1e3*a.published);return b.setMilliseconds(0),b.setSeconds(0),b.setMinutes(0),b.setHours(0),b.setDate(1),b.setMonth(3*Math.floor(b.getMonth()/3)),Math.round(b.getTime()/1e3)},this.groupByDate=function(a,b,c){angular.isString(c)&&(c=i[c]);var d=angular.isString(b)||angular.isFunction(b),e=a;e=d?h.groupBy(e,b):[{target:null,videos:a}];var f=[];return e=_.map(e,function(a){return a.videos=_(a.videos).groupBy(c).map(function(a,b){return b=parseInt(b),f.push(b),{date:b,videos:a}}).value(),a}),f=_.uniq(f),e=_.map(e,function(a){var b=_.map(a.videos,function(a){return a.date});return _.each(f,function(c){-1===b.indexOf(c)&&a.videos.push({date:c,videos:[]})}),a}),e=_.map(e,function(a){return a.videos=_(a.videos).orderBy(function(a){return a.date}).value(),a})},this}]),registerVideoDataService("videos","VideosSrv"),angular.module("app.data.videos").service("HostsSrv",["DataBaseCtrl",function(a){return a.call(this),this.id="hosts",this.name="Moderatoren",this.schema={type:"object",properties:{id:{type:"string","default":""},firstname:{type:"string","default":""},lastname:{type:"string","default":""},nickname:{type:"string","default":""},description:{type:"string","default":""},links:{type:"array","default":[]},image:{type:"string","default":""}}},this}]),registerVideoDataService("hosts","HostsSrv"),angular.module("app.data.videos").service("ShowsSrv",["DataBaseCtrl",function(a){return a.call(this),this.id="shows",this.name="Formaten",this.schema={type:"object",properties:{id:{type:"string","default":""},name:{type:"string","default":""},event:{type:"boolean","default":!1},description:{type:"string","default":""},links:{type:"array","default":[]},image:{type:"string","default":""}}},this.addSeries=function(a,b){angular.isArray(b)||(b=[b]),a.series=a.series||[];for(var c=0,d=0;d<b.length;d++){var e=b[d];-1===a.series.indexOf(e.id)&&(a.series.push(e.id),c++)}return c},this.removeSeries=function(a,b){angular.isArray(b)||(b=[b]),a.series=a.series||[];for(var c=0,d=0;d<b.length;d++){var e=b[d],f=a.series.indexOf(e.id);f>-1&&(a.series.splice(f,1),c++)}return c},this}]),registerVideoDataService("shows","ShowsSrv"),angular.module("app.data.videos").service("SeriesSrv",["DataBaseCtrl",function(a){return a.call(this),this.id="series",this.name="Serien",this.schema={type:"object",properties:{id:{type:"string","default":""},name:{type:"string","default":""},show:{type:"$shows","default":null},description:{type:"string","default":""},links:{type:"array","default":[]},image:{type:"string","default":""}}},this}]),registerVideoDataService("series","SeriesSrv"),angular.module("app.data.live",[]),angular.module("app.data.live").config(function(){}),angular.module("app.data.live").service("LiveDataSrv",["$timeout","$filter","$http","$q","ConfigSrv",function(a,b,c,d,e){function f(a,b){for(var c,d,e=-1,f=a.length;f-e>1;)c=Math.round((e+f)/2),d=a[c].time,b>=d?e=c:f=c;return c<a.length&&a[c].time===b&&(f=e),[e,f]}var g={},h=null,i=null,j=null;return g.clear=function(){h=h||[],h.length=0,i=i||[],i.length=0},g.loadRemoteMetadata=function(){var a=urljoin(e.get("githubBaseUrl"),e.get("githubRepository"),e.get("githubBranch"),e.get("livePath"),"/metadata.json?"+moment().unix());return c.get(a).then(function(a){return j=a.data})},g.metadata=function(){return j},g.loadRemote=function(b,f,i){angular.isNumber(b)||(b=0),angular.isNumber(f)||(f=moment().unix()),angular.isUndefined(i)&&(i=!0);var j;return g.loadRemoteMetadata().then(function(a){var g=urljoin(e.get("githubBaseUrl"),e.get("githubRepository"),e.get("githubBranch"),e.get("livePath"));j=_(a.files).filter(function(a){return a.end>=b&&f>=a.start}).map(function(a){return urljoin(g,a.filename)}).filter(function(a){return i?-1===h.indexOf(a):!0}).value();var k=_.map(j,function(a){return c.get(a)});return d.all(k)}).then(function(b){var c=_.map(b,function(b){return a(function(){for(var a=[],c=b.data.split("\n"),d=0;d<c.length;d++){var e=c[d].split(",");2===e.length&&a.push({time:parseInt(e[0]),viewers:parseInt(e[1])})}return a},10)});return d.all(c)}).then(function(a){if(a.length>0){var b=_.flatten(a);g.load(b,i),h=_.concat(h,j)}return i})},g.load=function(a,b){return b?angular.isArray(a)&&angular.assign(a,i,!1):(g.clear(),a!==i&&angular.isArray(a)&&angular.assign(a,i)),i.sort(function(a,b){return a.time<b.time?-1:a.time>b.time?1:0}),i},g.total=function(){return i.length},g.all=function(){return i},g.find=function(a){return b("filter")(i,a,!0)},g.filter=function(a,b,c){if(!angular.isArray(a)||0===a.length)return[];var d=Number.NEGATIVE_INFINITY,e=Number.POSITIVE_INFINITY;if(angular.isNumber(b)){var g=f(a,b);d=g[0]}if(angular.isNumber(c)){var h=f(a,c);e=h[1]}return 0>d&&(d=0),e>a.length-1&&(e=a.length-1),a.slice(d,e)},g.clear(),g}]),angular.module("app.editor",["app.common","app.data","ngAnimate","ngSanitize","ui.router","ui.select","angularMoment","ngTable","angular-md5","youtube-embed","ng.jsoneditor"]),angular.module("app.editor").config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("editor",{"abstract":!0,url:"/editor",templateUrl:"app/editor/app.editor.html",controller:["$scope","InitSrv","ConfigSrv","StateSrv","VideosDataSrv","VideosDataBackupSrv","LiveDataSrv",function(a,b,c,d,e,f,g){a.initDependencies=["config","state"],b.register({id:"config",execute:c.loadLocal}),b.register({id:"state",execute:d.loadLocal}),b.register({id:"live-metadata",execute:g.loadRemoteMetadata}),b.register({id:"videos-metadata",execute:e.loadRemoteMetadata}),b.register({id:"videos-data",execute:e.loadLocal}),b.register({id:"videos-data-backup",execute:f.loadLocal})}]}),b.when("/editor/","/editor/videos/data/")}]),angular.module("app.editor").service("VideosExtractorSrv",["$q","$filter","YoutubeApiSrv","VideosSrv","ShowsSrv","HostsSrv","SeriesSrv",function(a,b,c,d,e,f,g){function h(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var i={};return i.extractAired=function(a){if(angular.isString(a.title)){a.aired=null;var b=a.title.match(/(\d{1,2})\.(\d{1,2})\.(\d{2,4})/);if(b){var c=parseInt(b[1],10),d=parseInt(b[2],10),e=parseInt(b[3],10);a.aired=new Date(e,d-1,c,12).getTime()/1e3}}},i.extractShows=function(a){for(var b=e.all(),c=[],f=a.title,g=0;g<b.length;g++){var i=b[g],j=new RegExp("\\b("+h(i.name)+")\\b","i");f.match(j)&&c.push(i)}d.addShow(a,c)},i.extractHosts=function(a){for(var b=f.all(),c=[],e=a.title,g=0;g<b.length;g++){var i=b[g],j=[];i.firstname&&j.push(i.firstname),i.nickname&&j.push(i.nickname),j=_.map(j,h);var k=new RegExp("\\b("+j.join("|")+")\\b","i");e.match(k)&&c.push(i)}d.addHost(a,c)},i.extractSeries=function(a){for(var b=g.all(),c=[],e=a.title,f=0;f<b.length;f++){var i=b[f],j=new RegExp("\\b("+h(i.name)+")\\b","i");e.match(j)&&c.push(i)}d.addSeries(a,c)},i.updateVideos=function(e,f,g){return angular.isFunction(g)||(g=function(){}),a(function(a,h){function i(a){return c.playlistItems(e.playlistId,a).then(function(a){var c=a.nextPageToken,h=a.items;h=b("orderBy")(h,"snippet.publishedAt",!0);for(var j=0,k=0;k<h.length;k++){var l=h[k].snippet;if(j=new Date(l.publishedAt),j>=f){var m=l.resourceId.videoId,n=d.findById(m);n||(n=d.create({id:m})),n.id=l.resourceId.videoId,n.title=l.title,n.published=j.getTime()/1e3,n.channel=e.id,g(n)}}return c&&j>=f?i(c):void 0})}i().then(a)["catch"](h)})},i.updateVideoDetails=function(b,e){return angular.isArray(b)||(b=[b]),angular.isFunction(e)||(e=function(){}),a(function(a,f){function g(a){a=a||0;for(var f=[],h=a+50,j=a;j<b.length&&h>j;j++)f.push(b[j].id);return c.videos(f).then(function(a){for(var c=a.items,f=0;f<c.length;f++){var j=c[f],k=j.contentDetails,l=j.statistics,m=j.id,n=d.findById(m);n&&(n.duration=moment.duration(k.duration).asSeconds(),n.stats={},n.stats.commentCount=parseInt(l.commentCount,10),n.stats.viewCount=parseInt(l.viewCount,10),n.stats.dislikeCount=parseInt(l.dislikeCount,10),n.stats.likeCount=parseInt(l.likeCount,10),n.online=!0,i.extractAired(n),e(n))}return h<b.length?g(h):void 0})}if(0===b.length)return a();for(var h=0;h<b.length;h++)b[h].online=!1;g().then(a)["catch"](f)})},i}]),angular.module("app.editor").directive("imgInput",function(){return{restrict:"A",scope:{download:"=",image:"=imgInput"},templateUrl:"app/editor/utils/img-input/img-input.html",controller:["$scope","$q",function(a,b){function c(a){return b(function(b,c){var d=$("#imageCanvas");if(d.length>0){d=d[0];var e=d.getContext("2d"),f=new Image;f.setAttribute("crossOrigin","anonymous"),f.src=a,f.onload=function(){e.drawImage(f,0,0,f.width,f.height,0,0,d.width,d.height);var a=d.toDataURL("image/jpeg");b(a)},f.onerror=function(){c()}}else c()})}function d(a){return b(function(b,c){var d=$("#imageCanvas");if(d.length>0){d=d[0];var e=d.getContext("2d"),f=window.URL||window.webkitURL,g=f.createObjectURL(a),h=new Image;h.src=g,h.onload=function(){e.drawImage(h,0,0,h.width,h.height,0,0,d.width,d.height);var a=d.toDataURL("image/jpeg");b(a)},h.onerror=function(a){c()}}else c()})}a.convertImageUrl=function(b){angular.isString(b)&&(b=b.trim(),0===b.indexOf("http")&&c(b).then(function(b){a.image=b})["catch"](function(a){}))},a.changedImageSelection=function(b){d(b).then(function(b){a.image=b})["catch"](function(a){})},a.save=function(b){var c=new XMLHttpRequest;c.open("GET",b),c.responseType="blob",c.onload=function(b){var c=this.response,d={"image/jpeg":".jpg","image/png":".png"},e=d[c.type]||"",f="image"+e;a.download&&(f=a.download+e),saveAs(c,f)},c.send()}}]}}),angular.module("app.editor").directive("jsonEditor",function(){return{restrict:"A",scope:{data:"=jsonEditor"},templateUrl:"app/editor/utils/json-editor/json-editor.html",controller:["$scope",function(a){a.editor={data:null,options:{expanded:!0}},a.$watch("data",function(b,c){a.editor.data=angular.copy(a.data)},!0),a.$watch("editor.data",function(b,c){angular.copy(a.editor.data,a.data)})}]}}),angular.module("app.editor").controller("NavigationCtrl",["$scope",function(a){}]),angular.module("app.editor").config(["$stateProvider",function(a){a.state("editor.config",{url:"/config/",templateUrl:"app/editor/config/config.html",
controller:["$scope","ConfigSrv","GithubApiSrv",function(a,b,c){a.initDelay=50,a.initDependencies=["videos-data"],a.init=function(){a.config=b.get(),a.$watch("config",function(a,c){b.save()},!0)},a.reset=function(){b.load(b["default"]())}}]})}]),angular.module("app.editor").config(["$stateProvider",function(a){a.state("editor.videos",{"abstract":!0,url:"/videos",template:"<div ui-view></div>"})}]),angular.module("app.editor").config(["$stateProvider",function(a){a.state("editor.videos.data",{url:"/data/",templateUrl:"app/editor/videos/data/data.html",controller:["$scope","$q","$timeout","Notification","ConfigSrv","GithubApiSrv","VideosDataSrv","VideosDataBackupSrv",function(a,b,c,d,e,f,g,h){a.initDelay=50,a.initDependencies=["videos-data","videos-data-backup"],a.init=function(){a.dataServices=g.getServices(),a.dataBackups=h.all(),a.remoteMetadata=null,a.localDataHash=null,a.syncState={activeUpload:!1,activeDownload:!1},a.updateRemoteMetadata(),a.updateLocalHash(),a.updateValidation()},a.forceData=function(b){b.force(),b.save(),a.updateLocalHash(),a.updateValidation()},a.clearData=function(b){b.clear(),b.save(),a.updateLocalHash(),a.updateValidation()},a.getFiles=function(a){var b=[];_.each(a,function(a){b.push({id:a.id,path:a.id+".min.json",content:angular.toJson(a.all())})});var c={};return c.hash=g.hash(),c.update=moment().unix(),c.files=_(b).groupBy(function(a){return a.id}).transform(function(a,b,c){a[c]=_.map(b,function(a){return a.path})}).value(),c.size=_(b).map(function(a,b){return a.content.length}).sum(),b.push({path:"metadata.json",content:angular.toJson(c,1)}),_.each(a,function(a){b.push({id:a.id,path:a.id+".json",content:angular.toJson(a.all(),!0)})}),b},a.upload=function(){var b=a.getFiles(a.dataServices),c=e.get("videosPath")||"",g=e.get("githubBranch"),h="update video data",i=null,j=null,k=null,l=null;return a.syncState.activeUpload=!0,f.getRefs(g).then(function(a){return i=a.object.sha,f.getCommit(i)}).then(function(a){return j=a.tree.sha,f.getTree(j)}).then(function(a){var d=_.map(b,function(a){return{path:urljoin(c,a.path),mode:"100644",type:"blob",content:a.content}});return f.createTree(j,d)}).then(function(a){return l=a.sha,f.createCommit(i,l,h)}).then(function(a){return k=a.sha,f.updateRefs(g,k,!1)}).then(function(a){d.success("Upload erfolgreich!")})["catch"](function(a){d.error(d.parseError({title:"Fehler beim Upload",err:a,errPath:"data.message",delay:null}))})["finally"](function(){a.syncState.activeUpload=!1})},a.download=function(){a.syncState.activeDownload=!0,g.loadRemote().then(function(){d.success("Download erfolgreich!")})["catch"](function(a){d.error(d.parseError({title:"Fehler beim Download",err:a,delay:null}))})["finally"](function(){a.syncState.activeDownload=!1,g.save(),a.updateLocalHash(),a.updateValidation()})},a["export"]=function(a){var b=a.id+".json",c=angular.toJson(a.all(),1),d=new File([c],b,{type:"text/plain;charset=utf-8"});saveAs(d)},a["import"]=function(c,e){var f=_.map(e,function(a){return b(function(b,c){var d=new FileReader;d.onload=function(a){b(a.target.result)},d.onerror=function(a){c(a)},d.readAsText(a)})});b.all(f).then(function(b){var e=_.map(b,function(a){return angular.fromJson(a)});e=_.flatten(e),c.load(e),c.save(),a.updateLocalHash(),a.updateValidation(),d.success("Import erfolgreich!")})["catch"](function(a){d.error(d.parseError({title:"Fehler beim Import",err:a,delay:null}))})},a.exportAll=function(){var b=e.get("videosPath")||"",c=a.getFiles(a.dataServices),f=new JSZip;_.each(c,function(a){f.file(urljoin(b,a.path),a.content)});var h=g.hash();f.generateAsync({type:"blob"}).then(function(a){saveAs(a,"data-"+h)})["catch"](function(a){d.error(d.parseError({title:"Fehler beim Export",err:a,delay:null}))})},a.importAll=function(c){if(c){var f=e.get("videosPath")||"",g=new FileReader;g.onload=function(c){var e=c.target.result,g=new JSZip;g.loadAsync(e).then(function(a){var b=urljoin(f,"metadata.json"),c=a.files[b];if(!c)throw"Datei `"+b+"` konnte nicht entpackt werden";return c.async("string")}).then(function(c){c=angular.fromJson(c);var d=[],e=c.files;return _.each(a.dataServices,function(a){var c=e[a.id],h=_.map(c,function(a){var b=urljoin(f,a),c=g.files[b];if(!c)throw"Datei `"+b+"` konnte nicht entpackt werden";return c.async("string")}),i=b.all(h).then(function(b){b=_.map(b,function(a){return angular.fromJson(a)});var c=_.flatten(b);a.load(c),a.save()});d.push(i)}),b.all(d)}).then(function(){a.updateLocalHash(),a.updateValidation(),d.success("Import erfolgreich!")})["catch"](function(a){d.error(d.parseError({title:"Fehler beim Import",err:a,delay:null}))})},g.onerror=function(a){d.error(d.parseError({title:"Fehler beim Import",err:a,delay:null}))},g.readAsArrayBuffer(c)}},a.updateRemoteMetadata=function(){g.loadRemoteMetadata().then(function(b){a.remoteMetadata=b})["catch"](function(a){d.error(d.parseError({title:"Fehler beim Abrufen der Metadaten",err:a,delay:null}))})},a.updateLocalHash=function(){c(function(){a.localDataHash=g.hash()},300)},a.updateValidation=function(){c(function(){a.dataValid={},_.each(a.dataServices,function(b){a.dataValid[b.id]=b.isValid()})},300)},a.createBackup=function(){h.create(),h.save()},a.restoreBackup=function(b){h.restore(b),g.save(),a.updateLocalHash(),a.updateValidation()},a.deleteBackup=function(a){h["delete"](a),h.save()}}]})}]),angular.module("app.editor").config(["$stateProvider",function(a){a.state("editor.videos.channels",{"abstract":!0,url:"/channels",templateUrl:"app/editor/videos/channels/channels.html"})}]),angular.module("app.editor").config(["$stateProvider",function($stateProvider){$stateProvider.state("editor.videos.channels.all",{url:"/",templateUrl:"app/editor/videos/channels/channels-all/channels-all.html",controller:["$scope","$state","StateSrv","ChannelsSrv",function($scope,$state,StateSrv,ChannelsSrv){$scope.initDelay=50,$scope.initDependencies=["videos-data"],$scope.init=function(){$scope.channels=ChannelsSrv.all(),$scope.channelsOptions={display:{view:"card",count:10},order:{column:"title",type:"asc"},filter:""},$scope.exec={code:"console.log(channel);"},StateSrv.watch($scope,["channelsOptions","exec"])},$scope.add=function(){var a=ChannelsSrv.create();ChannelsSrv.save(),$state.transitionTo("editor.videos.channels.one",{channelId:a.id})},$scope.run=function(exec){var code="";code+="_.each($scope.channels, function(channel) {",code+=exec.code||"",code+="});",eval(code)}}]})}]),angular.module("app.editor").config(["$stateProvider",function(a){a.state("editor.videos.channels.one",{url:"/:channelId",templateUrl:"app/editor/videos/channels/channels-one/channels-one.html",controller:["$scope","$state","$stateParams","Notification","StateSrv","YoutubeApiSrv","VideosSrv","ChannelsSrv",function(a,b,c,d,e,f,g,h){a.initDelay=50,a.initDependencies=["videos-data"],a.init=function(){a.channelId=c.channelId,a.channel=h.findById(a.channelId),a.videos=g.filter(g.all(),{channels:{filter:[a.channelId]}}),a.videosOptions={},a.$watch("channel",function(b,c){a.valid=h.isValid(a.channel),h.save()},!0),e.watch(a,["videosOptions"])},a["delete"]=function(a){h["delete"]({id:a.id}),h.save(),b.transitionTo("editor.videos.channels.all")},a.fetchMetadata=function(a,b){f.channels(b).then(function(b){if(1===b.items.length){var c=b.items[0],d=c.contentDetails,e=c.snippet;a.channelId=c.id,a.playlistId=d.relatedPlaylists.uploads,a.description=e.description,a.title=e.title,a.image=e.thumbnails.medium.url}})["catch"](function(a){d.error(d.parseError({title:"Fehler beim Abrufen der Kanal Informationen",err:a,errPath:"data.error.message",delay:null}))})}}]})}]),angular.module("app.editor").config(["$stateProvider",function(a){a.state("editor.videos.videos",{"abstract":!0,url:"",templateUrl:"app/editor/videos/videos/videos.html"})}]),angular.module("app.editor").config(["$stateProvider",function($stateProvider){$stateProvider.state("editor.videos.videos.all",{url:"/",templateUrl:"app/editor/videos/videos/videos-all/videos-all.html",controller:["$scope","$filter","$q","Notification","StateSrv","VideosExtractorSrv","VideosSrv","ChannelsSrv","ShowsSrv","HostsSrv","SeriesSrv",function($scope,$filter,$q,Notification,StateSrv,VideosExtractorSrv,VideosSrv,ChannelsSrv,ShowsSrv,HostsSrv,SeriesSrv){$scope.initDelay=50,$scope.initDependencies=["videos-data"],$scope.init=function(){$scope.channels=ChannelsSrv.all(),$scope.shows=ShowsSrv.all(),$scope.hosts=HostsSrv.all(),$scope.series=SeriesSrv.all(),$scope.videos=VideosSrv.all(),$scope.videosOptions={},$scope.updateState={active:!1,info:null,latest:null},$scope.exec={code:"console.log(video);"},$scope.updateUntil=moment(new Date(2015,0,15)).unix(),StateSrv.watch($scope,["videosOptions","exec"])},$scope.updateVideos=function(a,b){function c(a){$scope.updateState.latest=a}function d(a){var e=a.pop(),f=b(e);return $scope.updateState.info="Lade Videos für Kanal '"+e.title+"'",VideosExtractorSrv.updateVideos(e,f,c).then(function(){return a.length>0?d(a):void 0})}a=a.slice(),$scope.updateState.active=!0,d(a).then(function(){})["catch"](function(a){Notification.error(Notification.parseError({title:"Fehler beim Abrufen der Video Liste",err:a,errPath:"data.error.message",delay:null}))})["finally"](function(){$scope.updateState.active=!1,$scope.updateState.info=null,$scope.updateState.latest=null,VideosSrv.save(),$scope.update()})},$scope.updateVideoDetails=function(a){function b(a){$scope.updateState.latest=a}$scope.updateState.active=!0,$scope.updateState.info="Lade Video Details",VideosExtractorSrv.updateVideoDetails(a,b).then(function(){})["catch"](function(a){Notification.error(Notification.parseError({title:"Fehler beim Abrufen der Video Details",err:a,errPath:"data.error.message",delay:null}))})["finally"](function(){$scope.updateState.active=!1,$scope.updateState.info=null,$scope.updateState.latest=null,VideosSrv.save(),$scope.update()})},$scope.updateVideosAll=function(){function a(a){return b}var b=new Date(1970,0,1);$scope.updateVideos($scope.channels,a)},$scope.updateVideosNew=function(){function a(a){var b=VideosSrv.find({channel:a.id}),c=_.maxBy(b,"published");return c?new Date(1e3*c.published):new Date(2015,0,15)}$scope.updateVideos($scope.channels,a)},$scope.updateVideosAllUntil=function(a){function b(b){return a}a=new Date(a),$scope.updateVideos($scope.channels,b)},$scope.updateVideoDetailsAll=function(){var a=$scope.videos;$scope.updateVideoDetails(a)},$scope.updateVideoDetailsNew=function(){var a=VideosSrv.find({online:!1});$scope.updateVideoDetails(a)},$scope.updateVideoDetailsFiltered=function(){var a=$scope.videosFiltered;$scope.updateVideoDetails(a)},$scope.run=function(exec){var code="";code+="_.each($scope.videos, function(video) {",code+=exec.code||"",code+="});",eval(code)}}]})}]),angular.module("app.editor").config(["$stateProvider",function(a){a.state("editor.videos.videos.one",{url:"/:videoId",templateUrl:"app/editor/videos/videos/videos-one/videos-one.html",controller:["$scope","$state","$stateParams","VideosExtractorSrv","VideosSrv","ChannelsSrv","ShowsSrv","HostsSrv","SeriesSrv",function(a,b,c,d,e,f,g,h,i){a.initDelay=50,a.initDependencies=["videos-data"],a.init=function(){a.video=e.findById(c.videoId),a.videos=e.all(),a.channels=f.all(),a.shows=g.all(),a.hosts=h.all(),a.series=i.all(),a.$watch("video",function(b,c){a.valid=e.isValid(a.video),e.save()},!0)},a.extractAll=function(a){d.extractShows(a),d.extractHosts(a),d.extractSeries(a)},a.extractShows=function(a){d.extractShows(a),e.save()},a.extractHosts=function(a){d.extractHosts(a),e.save()},a.extractSeries=function(a){d.extractSeries(a),e.save()},a["delete"]=function(a){e["delete"]({id:a.id}),e.save(),b.transitionTo("editor.videos.videos.all")},a.addShow=function(a,b){e.addShow(a,b)},a.removeShow=function(a,b){e.removeShow(a,b)},a.addHost=function(a,b){e.addHost(a,b)},a.removeHost=function(a,b){e.removeHost(a,b)},a.addSeries=function(a,b){e.addSeries(a,b)},a.removeSeries=function(a,b){e.removeSeries(a,b)},a.updateDetails=function(a){d.updateVideoDetails(a)}}]})}]),angular.module("app.editor").config(["$stateProvider",function(a){a.state("editor.videos.shows",{"abstract":!0,url:"/shows",templateUrl:"app/editor/videos/shows/shows.html"})}]),angular.module("app.editor").config(["$stateProvider",function($stateProvider){$stateProvider.state("editor.videos.shows.all",{url:"/",templateUrl:"app/editor/videos/shows/shows-all/shows-all.html",controller:["$scope","$state","StateSrv","ShowsSrv",function($scope,$state,StateSrv,ShowsSrv){$scope.initDelay=50,$scope.initDependencies=["videos-data"],$scope.init=function(){$scope.shows=ShowsSrv.all(),$scope.showsOptions={display:{view:"list",count:10},order:{column:"name",type:"asc"},filter:""},$scope.exec={code:"console.log(show);"},StateSrv.watch($scope,["showsOptions","exec"])},$scope.add=function(){var a=ShowsSrv.create();ShowsSrv.save(),$state.transitionTo("editor.videos.shows.one",{showId:a.id})},$scope.run=function(exec){var code="";code+="_.each($scope.shows, function(show) {",code+=exec.code||"",code+="});",eval(code)}}]})}]),angular.module("app.editor").config(["$stateProvider",function(a){a.state("editor.videos.shows.one",{url:"/:showId",templateUrl:"app/editor/videos/shows/shows-one/shows-one.html",controller:["$scope","$state","$stateParams","StateSrv","VideosSrv","ShowsSrv","SeriesSrv",function(a,b,c,d,e,f,g){a.initDelay=50,a.initDependencies=["videos-data"],a.init=function(){a.showId=c.showId,a.show=f.findById(a.showId),a.series=g.all(),a.videos=e.filter(e.all(),{shows:{filter:[a.showId]}}),a.videosOptions={},a.$watch("show",function(b,c){a.valid=f.isValid(a.show),f.save()},!0),d.watch(a,["videosOptions"])},a["delete"]=function(a){f["delete"]({id:a.id}),f.save(),b.transitionTo("editor.videos.shows.all")},a.addSeries=function(a,b){f.addSeries(a,b)},a.removeSeries=function(a,b){f.removeSeries(a,b)}}]})}]),angular.module("app.editor").config(["$stateProvider",function(a){a.state("editor.videos.hosts",{"abstract":!0,url:"/hosts",templateUrl:"app/editor/videos/hosts/hosts.html"})}]),angular.module("app.editor").config(["$stateProvider",function($stateProvider){$stateProvider.state("editor.videos.hosts.all",{url:"/",templateUrl:"app/editor/videos/hosts/hosts-all/hosts-all.html",controller:["$scope","$state","StateSrv","HostsSrv",function($scope,$state,StateSrv,HostsSrv){$scope.initDelay=50,$scope.initDependencies=["videos-data"],$scope.init=function(){$scope.hosts=HostsSrv.all(),$scope.hostsOptions={display:{view:"list",count:10},order:{column:"firstname",type:"asc"},filter:""},$scope.exec={code:"console.log(host);"},StateSrv.watch($scope,["hostsOptions","exec"])},$scope.add=function(){var a=HostsSrv.create();HostsSrv.save(),$state.transitionTo("editor.videos.hosts.one",{hostId:a.id})},$scope.run=function(exec){var code="";code+="_.each($scope.hosts, function(host) {",code+=exec.code||"",code+="});",eval(code)}}]})}]),angular.module("app.editor").config(["$stateProvider",function(a){a.state("editor.videos.hosts.one",{url:"/:hostId",templateUrl:"app/editor/videos/hosts/hosts-one/hosts-one.html",controller:["$scope","$state","$stateParams","StateSrv","VideosSrv","HostsSrv",function(a,b,c,d,e,f){a.initDelay=50,a.initDependencies=["videos-data"],a.init=function(){a.hostId=c.hostId,a.host=f.findById(a.hostId),a.videos=e.filter(e.all(),{hosts:{filter:[a.hostId]}}),a.videosOptions={},a.$watch("host",function(b,c){a.valid=f.isValid(a.host),f.save()},!0),d.watch(a,["videosOptions"])},a["delete"]=function(a){f["delete"]({id:a.id}),f.save(),b.transitionTo("editor.videos.hosts.all")}}]})}]),angular.module("app.editor").config(["$stateProvider",function(a){a.state("editor.videos.series",{"abstract":!0,url:"/series",templateUrl:"app/editor/videos/series/series.html"})}]),angular.module("app.editor").config(["$stateProvider",function($stateProvider){$stateProvider.state("editor.videos.series.all",{url:"/",templateUrl:"app/editor/videos/series/series-all/series-all.html",controller:["$scope","$state","StateSrv","SeriesSrv",function($scope,$state,StateSrv,SeriesSrv){$scope.initDelay=50,$scope.initDependencies=["videos-data"],$scope.init=function(){$scope.series=SeriesSrv.all(),$scope.seriesOptions={display:{view:"list",count:10},order:{column:"name",type:"asc"},filter:""},$scope.exec={code:"console.log(series);"},StateSrv.watch($scope,["seriesOptions","exec"])},$scope.add=function(){var a=SeriesSrv.create();SeriesSrv.save(),$state.transitionTo("editor.videos.series.one",{seriesId:a.id})},$scope.run=function(exec){var code="";code+="_.each($scope.series, function(series) {",code+=exec.code||"",code+="});",eval(code)}}]})}]),angular.module("app.editor").config(["$stateProvider",function(a){a.state("editor.videos.series.one",{url:"/:seriesId",templateUrl:"app/editor/videos/series/series-one/series-one.html",controller:["$scope","$state","$stateParams","Notification","StateSrv","IgdbApiSrv","VideosSrv","ShowsSrv","SeriesSrv",function(a,b,c,d,e,f,g,h,i){a.initDelay=50,a.initDependencies=["videos-data"],a.init=function(){a.seriesId=c.seriesId,a.series=i.findById(a.seriesId),a.shows=h.all(),a.videos=g.filter(g.all(),{series:{filter:[a.seriesId]}}),a.videosOptions={},a.$watch("series",function(b,c){a.valid=i.isValid(a.series),i.save()},!0),e.watch(a,["videosOptions"])},a["delete"]=function(a){i["delete"]({id:a.id}),i.save(),b.transitionTo("editor.videos.series.all")},a.fetchGameMetadata=function(b,c){f.games(c).then(function(b){a.gameMetadataOptions=b})["catch"](function(a){d.error(d.parseError({title:"Fehler beim Abrufen der Videospiel Informationen",err:a,errPath:"data.message",delay:null}))})},a.setGameMetadata=function(a,b){a.description=b.summary||"",b.cover&&(a.image="http:"+b.cover.url.replace("t_thumb","t_thumb_2x")),a.links.length=0,a.links.push(b.url.replace("www.",""))}}]})}]),angular.module("app.viewer",["app.common","app.data","ngAnimate","ngSanitize","ui.router","ui.select","angularMoment","ngTable","nvd3","perfect_scrollbar"]),angular.module("app.viewer").config(["$stateProvider","$urlRouterProvider",function(a,b){a.state("viewer",{"abstract":!0,url:"",templateUrl:"app/viewer/app.viewer.html",controller:["$scope","$timeout","InitSrv","ConfigSrv","StateSrv","LiveDataSrv","VideosDataSrv",function(a,b,c,d,e,f,g){a.initDependencies=["config","state"],g.loadRemoteMetadata(),c.register({id:"config",execute:d.loadLocal}),c.register({id:"state",execute:e.loadLocal}),c.register({id:"live-metadata",execute:f.loadRemoteMetadata,dependencies:["config"]}),c.register({id:"videos-metadata",execute:g.loadRemoteMetadata,dependencies:["config"]}),c.register({id:"videos-data",execute:g.loadRemote,dependencies:["config","videos-metadata"]})}]}),b.otherwise("/videos/channels/")}]),angular.module("app.viewer").controller("NavigationCtrl",["$scope","$q","InitSrv","VideosDataSrv","LiveDataSrv",function(a,b,c,d,e){var f={name:"Video Daten",loading:!0},g={name:"Live Daten",loading:!0};a.metadata=[f,g];var h=[];h.push(c.wait("videos-metadata").then(function(){var a=d.metadata();f.loading=!1,f.update=a.update})["catch"](function(){f.error=!0})),h.push(c.wait("live-metadata").then(function(){var a=e.metadata();g.loading=!1,g.update=a.update})["catch"](function(){g.error=!0})),b.all(h).then(function(){a.initialized=!0})}]),angular.module("app.viewer").config(["$stateProvider",function(a){a.state("viewer.live",{url:"/live/?from&to",templateUrl:"app/viewer/live/live.html",reloadOnSearch:!1,controller:["$scope","$location","$stateParams","LiveDataSrv","$httpParamSerializer",function(a,b,c,d,e){a.initDelay=50,a.initDependencies=["live-metadata"],a.init=function(){a.from=c.from&&parseInt(c.from),a.to=c.to&&parseInt(c.to),a.live=d.all(),a.liveStats=null,a.chart=a.chartVideosCount()},a.chartVideosCount=function(){function c(){var c=i.dateRange.selected.start,e=i.dateRange.selected.end;return a.liveStats=null,b.search({from:c,to:e}),d.loadRemote(c,e).then(function(){var b=d.filter(a.live,c,e),f=3e3,g=b.length,h=1;g>f&&(h=Math.floor(g/f));for(var i=[],j=0;g>j;j+=h){var k=b[j];i.push({x:k.time,y:k.viewers})}return a.liveStats=a.updateStats(b),{key:"Live Zuschauer",columns:{x:"time",y:"viewers"},values:i}})}var e=d.metadata(),f=_.maxBy(e.files,function(a){return a.end});f=moment.unix(f.end);var g=moment(f).subtract(24,"h").unix(),h=null;angular.isDefined(a.from)&&(g=a.from),angular.isDefined(a.to)&&(h=a.to);var i={chart:{type:"stackedAreaChart",interpolate:"linear",showLegend:!1,xAxis:{axisLabel:"Datum",tickFormatAutoDate:!0},yAxis:{axisLabel:"Live Zuschauer"},tooltip:{headerFormatter:function(a){return d3.time.format("%a %e. %b %Y %H:%M")(new Date(1e3*a))}},margin:{top:20}},dateRange:{enable:!0,selected:{start:g,end:h},ranges:[{name:"Letzten 8 Stunden",start:moment(f).subtract(8,"h").unix(),end:null},{name:"Letzten 24 Stunden",start:moment(f).subtract(24,"h").unix(),end:null},{name:"Letzten 7 Tage",start:moment(f).subtract(7,"d").unix(),end:null},{name:"Letzter Monat",start:moment(f).subtract(30,"d").unix(),end:null},{name:"Letzten 3 Monate",start:moment(f).subtract(3,"M").unix(),end:null},{name:"Letztes Jahr",start:moment(f).subtract(1,"y").unix(),end:null},{name:"Seit Sendestart",start:1421276400,end:null}]},title:{enable:!0,text:"Live Zuschauer"}};return{update:c,options:i}},a.updateStats=function(a){var b={};return b.count=a.length,b.start=a[0],b.end=a[a.length-1],b.mean=_.round(d3.mean(a,function(a){return a.viewers})),a=_.orderBy(a,function(a){return a.viewers}),b.min=a[0],b.max=a[a.length-1],b.q1=_.round(d3.quantile(a,.25,function(a){return a.viewers})),b.q2=_.round(d3.quantile(a,.5,function(a){return a.viewers})),b.q3=_.round(d3.quantile(a,.75,function(a){return a.viewers})),b}}]})}]),angular.module("app.viewer").controller("FooterCtrl",["$scope",function(a){a.rbtvLinks=[{title:"Rocket Beans TV",url:"https://rocketbeans.tv/",icon:"fa-home"},{title:"Livestream",url:"https://gaming.youtube.com/rocketbeanstv/live",icon:"fa-youtube-play"}],a.ownLinks=[{title:"Feedback",url:"https://forum.rocketbeans.tv/t/rocket-beans-tv-statistiken-rbtvstats-github-io/18816",icon:"fa-comment"},{title:"Github",url:"https://github.com/rbtvstats",icon:"fa-github"}]}]),angular.module("app.viewer").config(["$stateProvider",function(a){a.state("viewer.videos",{"abstract":!0,url:"/videos",template:"<div ui-view></div>"})}]),angular.module("app.viewer").config(["$stateProvider",function(a){a.state("viewer.videos.channels",{"abstract":!0,url:"/channels",templateUrl:"app/viewer/videos/channels/channels.html"})}]),angular.module("app.viewer").config(["$stateProvider",function(a){a.state("viewer.videos.channels.all",{url:"/",templateUrl:"app/viewer/videos/channels/channels-all/channels-all.html",controller:["$scope","$state","StateSrv","ChartTemplatesSrv","VideosSrv","ChannelsSrv",function(a,b,c,d,e,f){a.initDelay=50,a.initDependencies=["videos-data"],a.init=function(){function b(a){return f.findById(a.target).title}a.channels=f.all(),a.channelsOptions={display:{view:"card",count:10},order:{column:"title",type:"asc"},filter:""},a.videos=e.filter(e.all(),{online:!0}),a.charts=[],a.charts.push(d.videosCountByDate(a.videos,b,"channel")),a.charts.push(d.videosDurationByDate(a.videos,b,"channel")),a.charts.push(d.videosViewsTotalByDate(a.videos,b,"channel")),a.charts.push(d.videosViewsDistribution(a.videos,b,"channel")),c.watch(a,["channelsOptions"])}}]})}]),angular.module("app.viewer").config(["$stateProvider",function(a){a.state("viewer.videos.channels.one",{url:"/:channelId",templateUrl:"app/viewer/videos/channels/channels-one/channels-one.html",controller:["$scope","$state","$stateParams","StateSrv","ChartTemplatesSrv","VideosSrv","ChannelsSrv",function(a,b,c,d,e,f,g){a.initDelay=50,a.initDependencies=["videos-data"],a.init=function(){a.channelId=c.channelId,a.channel=g.findById(a.channelId),a.videos=f.filter(f.all(),{channels:{filter:[a.channelId]},online:!0}),a.videosOptions={},a.charts=[],a.charts.push(e.videosCountByDate(a.videos,a.channel.title)),a.charts.push(e.videosDurationByDate(a.videos,a.channel.title)),a.charts.push(e.videosViewsTotalByDate(a.videos,a.channel.title)),a.charts.push(e.videosViewsMeanByDate(a.videos,a.channel.title)),a.charts.push(e.videosViewsDistribution(a.videos,a.channel.title)),a.updateStats(),d.watch(a,["videosOptions"])},a.updateStats=function(){a.stats={};var b=_.minBy(a.videos,function(a){return a.published}),c=_.maxBy(a.videos,function(a){return a.published});b=moment.unix(b.published),c=moment.unix(c.published);var d=c.diff(b,"days")||1;a.stats.videosCountTotal=a.videos.length,a.stats.videosCountMean=_.round(a.stats.videosCountTotal/d,2),a.stats.videosDurationTotal=_.sumBy(a.videos,function(a){return a.duration}),a.stats.videosDurationMean=_.round(_.meanBy(a.videos,function(a){return a.duration})),a.stats.videosViewsTotal=_.sumBy(a.videos,function(a){return a.stats.viewCount}),a.stats.videosViewsMean=_.round(_.meanBy(a.videos,function(a){return a.stats.viewCount}))}}]})}]),angular.module("app.viewer").config(["$stateProvider",function(a){a.state("viewer.videos.videos",{"abstract":!0,url:"",templateUrl:"app/viewer/videos/videos/videos.html"})}]),angular.module("app.viewer").config(["$stateProvider",function(a){a.state("viewer.videos.videos.all",{url:"/",templateUrl:"app/viewer/videos/videos/videos-all/videos-all.html",controller:["$scope","StateSrv","VideosSrv",function(a,b,c){a.initDelay=50,a.initDependencies=["videos-data"],a.init=function(){a.videos=c.filter(c.all(),{online:!0}),a.videosOptions={},b.watch(a,["videosOptions"])}}]})}]),angular.module("app.viewer").config(["$stateProvider",function(a){a.state("viewer.videos.shows",{"abstract":!0,url:"/shows",templateUrl:"app/viewer/videos/shows/shows.html"})}]),angular.module("app.viewer").config(["$stateProvider",function(a){a.state("viewer.videos.shows.all",{url:"/",templateUrl:"app/viewer/videos/shows/shows-all/shows-all.html",controller:["$scope","$state","StateSrv","ShowsSrv",function(a,b,c,d){a.initDelay=50,a.initDependencies=["videos-data"],a.init=function(){a.shows=d.all(),a.showsOptions={display:{view:"list",count:10},order:{column:"name",type:"asc"},filter:""},c.watch(a,["showsOptions"])}}]})}]),angular.module("app.viewer").config(["$stateProvider",function(a){a.state("viewer.videos.shows.one",{url:"/:showId/:seriesId",templateUrl:"app/viewer/videos/shows/shows-one/shows-one.html",controller:["$scope","$filter","$state","$stateParams","NgTableParams","StateSrv","ChartTemplatesSrv","VideosSrv","ShowsSrv","HostsSrv","SeriesSrv",function(a,b,c,d,e,f,g,h,i,j,k){a.initDelay=50,a.initDependencies=["videos-data"],a.init=function(){a.showId=d.showId,a.seriesId=d.seriesId,a.show=i.findById(a.showId),a.series=k.findById(a.seriesId),a.showSeries=k.find({show:a.showId}),a.seriesOptions={display:{view:"card",count:10},order:{column:"name",type:"asc"},filter:""};var b=a.seriesId&&[a.seriesId];a.videos=h.filter(h.all(),{shows:{filter:[a.showId]},series:{filter:b},online:!0}),a.videosOptions={},a.charts=[],a.charts.push(g.videosCountByDate(a.videos,a.show.name)),a.charts.push(g.videosDurationByDate(a.videos,a.show.name)),a.charts.push(g.videosViewsTotalByDate(a.videos,a.show.name)),a.charts.push(g.videosViewsMeanByDate(a.videos,a.show.name)),a.charts.push(g.videosViewsDistribution(a.videos,a.show.name)),a.updateStats(),f.watch(a,["seriesOptions","videosOptions"])},a.updateStats=function(){a.stats={};var b=_.minBy(a.videos,function(a){return a.published}),c=_.maxBy(a.videos,function(a){return a.published});b=moment.unix(b.published),c=moment.unix(c.published);var d=c.diff(b,"days")||1;a.stats.videosCountTotal=a.videos.length,a.stats.videosCountMean=_.round(a.stats.videosCountTotal/d,2),a.stats.videosDurationTotal=_.sumBy(a.videos,function(a){return a.duration}),a.stats.videosDurationMean=_.round(_.meanBy(a.videos,function(a){return a.duration})),a.stats.videosViewsTotal=_.sumBy(a.videos,function(a){return a.stats.viewCount}),a.stats.videosViewsMean=_.round(_.meanBy(a.videos,function(a){return a.stats.viewCount})),a.stats.videosHosts=_(a.videos).map(function(a){return a.hosts}).flatten().countBy(function(a){return a}).map(function(a,b){return{host:j.findById(b),count:a}}).value(),a.stats.videosHostsTable=new e({count:5,sorting:{count:"desc"}},{dataset:a.stats.videosHosts})}}]})}]),angular.module("app.viewer").config(["$stateProvider",function(a){a.state("viewer.videos.hosts",{"abstract":!0,url:"/hosts",templateUrl:"app/viewer/videos/hosts/hosts.html"})}]),angular.module("app.viewer").config(["$stateProvider",function(a){a.state("viewer.videos.hosts.all",{url:"/",templateUrl:"app/viewer/videos/hosts/hosts-all/hosts-all.html",controller:["$scope","$state","StateSrv","HostsSrv",function(a,b,c,d){a.initDelay=50,a.initDependencies=["videos-data"],a.init=function(){a.hosts=d.all(),a.hostsOptions={display:{view:"list",count:10},order:{column:"firstname",type:"asc"},filter:""},c.watch(a,["hostsOptions"])}}]})}]),angular.module("app.viewer").config(["$stateProvider",function(a){a.state("viewer.videos.hosts.one",{url:"/:hostId",templateUrl:"app/viewer/videos/hosts/hosts-one/hosts-one.html",controller:["$scope","$state","$stateParams","StateSrv","ChartTemplatesSrv","NgTableParams","VideosSrv","HostsSrv","ShowsSrv",function(a,b,c,d,e,f,g,h,i){a.initDelay=50,a.initDependencies=["videos-data"],a.init=function(){a.hostId=c.hostId,a.host=h.findById(a.hostId),a.videos=g.filter(g.all(),{hosts:{filter:[a.hostId]},online:!0}),a.videosOptions={},a.charts=[],a.charts.push(e.videosCountByDate(a.videos,a.host.firstname)),a.charts.push(e.videosDurationByDate(a.videos,a.host.firstname)),a.charts.push(e.videosViewsTotalByDate(a.videos,a.host.firstname)),a.charts.push(e.videosViewsMeanByDate(a.videos,a.host.firstname)),a.charts.push(e.videosViewsDistribution(a.videos,a.host.firstname)),a.updateStats(),d.watch(a,["videosOptions"])},a.updateStats=function(){a.stats={};var b=_.minBy(a.videos,function(a){return a.published}),c=_.maxBy(a.videos,function(a){return a.published});b=moment.unix(b.published),c=moment.unix(c.published);var d=c.diff(b,"days")||1;a.stats.videosCountTotal=a.videos.length,a.stats.videosCountMean=_.round(a.stats.videosCountTotal/d,2),a.stats.videosDurationTotal=_.sumBy(a.videos,function(a){return a.duration}),a.stats.videosDurationMean=_.round(_.meanBy(a.videos,function(a){return a.duration})),a.stats.videosViewsTotal=_.sumBy(a.videos,function(a){return a.stats.viewCount}),a.stats.videosViewsMean=_.round(_.meanBy(a.videos,function(a){return a.stats.viewCount})),a.stats.videosCohostsNone=_.filter(a.videos,function(a){return 1===a.hosts.length}).length,a.stats.videosCohosts=_(a.videos).map(function(a){return a.hosts}).flatten().filter(function(b){return b!==a.host.id}).countBy(function(a){return a}).map(function(a,b){return{host:h.findById(b),count:a}}).value(),a.stats.videosCohostsTable=new f({count:5,sorting:{count:"desc"}},{dataset:a.stats.videosCohosts}),a.stats.videosShows=_(a.videos).map(function(a){return a.shows}).flatten().countBy(function(a){return a}).map(function(a,b){return{show:i.findById(b),count:a}}).value(),a.stats.videosShowsTable=new f({count:5,sorting:{count:"desc"}},{dataset:a.stats.videosShows})}}]})}]),angular.module("app.common").directive("report",["$tooltip","$modal",function(a,b){return{restrict:"A",link:function(c,d,e,f){a(d,{title:"Fehler melden"}),d.on("click",function(){var a=c.$new();a.target=e.report,a.id=e.reportId;b({templateUrl:"app/common/report/report.html",controller:"ReportCtrl",scope:a,show:!0})})}}}]),angular.module("app.common").controller("ReportCtrl",["$scope","Notification","FirebaseApi",function(a,b,c){a.init=function(){var b={channels:[{id:"description",title:"Beschreibung"},{id:"links",title:"Link(s)"},{id:"image",title:"Bild"}],shows:[{id:"name",title:"Name"},{id:"description",title:"Beschreibung"},{id:"links",title:"Link(s)"},{id:"image",title:"Bild"}],series:[{id:"name",title:"Name"},{id:"description",title:"Beschreibung"},{id:"links",title:"Link(s)"},{id:"image",title:"Bild"}],hosts:[{id:"name",title:"Name"},{id:"links",title:"Link(s)"},{id:"image",title:"Bild"}],videos:[{id:"shows",title:"Format(e)"
},{id:"hosts",title:"Moderator(en)"},{id:"series",title:"Serie(n)"}]};a.model={description:"",reasons:b[a.target]}},a.send=function(){var d=_(a.model.reasons).filter(function(a){return a.selected===!0}).map(function(a){return a.id}).value();c.create({target:a.target,id:a.id,reasons:d,description:a.model.description}).then(function(){b.success({message:"Fehler erfolgreich gemeldet. Danke!"})})["catch"](function(){b.error({message:"Fehler beim Melden",delay:5e3})})},a.init()}]),angular.module("app.data").service("FirebaseApi",["$http","uuid4",function(a,b){var c="https://rbtv-report.firebaseio.com/",d={};return d.create=function(d){return a.put(c+b.generate()+".json",d).then(function(a){return a})},d}]),angular.module("rbtvStats").run(["$templateCache",function(a){"use strict";a.put("app/common/chart/chart-date-group/chart-date-group.html",'<div class=dropdown><button class="btn btn-transparent dropdown-toggle" type=button data-placement=bottom-right bs-dropdown><span class="fa fa-list"></span></button><ul class=dropdown-menu role=menu><li class=dropdown-header ng-click=$event.stopPropagation()>Gruppieren nach...</li><li ng-class="options.dateGroup.selected === group.id ? \'active\' : \'\'" ng-repeat="group in options.dateGroup.groups"><a href="" ng-click="options.dateGroup.selected=group.id">{{group.name}}</a></li></ul></div>'),a.put("app/common/chart/chart-date-range/chart-date-range.html",'<div class=dropdown><button class="btn btn-transparent dropdown-toggle" type=button data-placement=bottom-right bs-dropdown><span class="fa fa-calendar"></span></button><ul class="dropdown-menu date-range-picker" role=menu ng-click=$event.stopPropagation()><div class=tabs bs-active-pane=tab.selected ng-init="tab.selected=\'quickselect\'" bs-tabs><div class=quickselect data-name=quickselect data-title=Zeitspanne bs-pane><table><tr><td class=ranges><div class=range ng-repeat="range in options.dateRange.ranges"><button class=btn type=button ng-click=setRange(range) ng-class="isSelectedRange(range) ? \'btn-primary\' : \'btn-default\'">{{range.name}}</button></div></td><td class=dates><label>Von</label><div ng-if=date.start><div>{{date.start | amFromUnix | amDateFormat:\'LT\'}}</div><div>{{date.start | amFromUnix | amDateFormat:\'LL\'}}</div></div><div ng-if=!date.start>-<br>&nbsp;</div><label>Bis</label><div ng-if=date.end><div>{{date.end | amFromUnix | amDateFormat:\'LT\'}}</div><div>{{date.end | amFromUnix | amDateFormat:\'LL\'}}</div></div><div ng-if=!date.end>-<br>&nbsp;</div></td></tr></table></div><div class=datetime-container data-name=start data-title=Von bs-pane><i class="fa fa-clock-o time"></i> <input type=text placeholder=Zeit class=form-control ng-model=date.start data-length=1 data-trigger=manual data-container=false data-bs-show=timePicker.show bs-timepicker><div class=clear></div><i class="fa fa-calendar date"></i> <input type=text placeholder=Datum class=form-control ng-model=date.start data-trigger=manual data-container=false data-bs-show=datePicker.show bs-datepicker></div><div class=datetime-container data-name=end data-title=Bis bs-pane><i class="fa fa-clock-o time"></i> <input type=text placeholder=Zeit class=form-control ng-model=date.end data-length=1 data-trigger=manual data-container=false data-bs-show=timePicker.show bs-timepicker><div class=clear></div><i class="fa fa-calendar date"></i> <input type=text placeholder=Datum class=form-control ng-model=date.end data-trigger=manual data-container=false data-bs-show=datePicker.show bs-datepicker></div></div><div class=actions><button class="btn btn-primary" type=button ng-click=apply()>Anwenden</button> <button class="btn btn-default" type=button ng-click=clear()>Zurücksetzen</button></div></ul></div>'),a.put("app/common/chart/chart-export/chart-export.html",'<div class=dropdown><button class="btn btn-transparent dropdown-toggle" type=button data-placement=bottom-right bs-dropdown><span class="fa fa-ellipsis-v"></span></button><ul class=dropdown-menu role=menu><li class=dropdown-header ng-click=$event.stopPropagation()>Exportiere Grafik als...</li><li ng-repeat="export in exportChart"><a href="" ng-click=export.exec()>{{export.name}}</a></li><li class=dropdown-header ng-click=$event.stopPropagation()>Exportiere Daten als...</li><li ng-repeat="export in exportData"><a href="" ng-click=export.exec()>{{export.name}}</a></li></ul></div>'),a.put("app/common/chart/chart.html",'<div class="card-content chart"><div class=card-content-header><table><tr><td><div ng-if=options.title.enable ng-bind-html=options.title.text></div></td><td class="chart-options text-right"><div chart-date-group ng-if=options.dateGroup.enable></div><div chart-date-range ng-if=options.dateRange.enable></div><div chart-export ng-if=options.export.enable></div></td></tr></table></div><div class=card-content-body><div class=chart-overlay><div class=chart-loading ng-show=loading><div class="c-icon c-icon-3x c-icon-circle-notch c-icon-spin"></div></div><div class=chart-error ng-show="!loading && error">Fehler bei der Darstellung</div><div class=chart-empty ng-show="!loading && !error && !data[0].values.length">Keine Daten zum Darstellen</div></div><div class=chart-container><div class=chart-container-scroll style="min-width:{{options.chart.minWidth}}px; height:{{options.chart.height}}px"><nvd3 options=options data=data config=config></nvd3></div></div></div><div class=card-content-footer ng-if=options.caption.enable><div ng-bind-html=options.caption.text></div></div></div>'),a.put("app/common/form/form-element/form-element.html",'<div class=form-group><label class="col-md-3 control-label" for={{key}}>{{name}}</label><div class="col-md-9 content"></div></div>'),a.put("app/common/form/form/form.html",'<div class=container-fluid><div class=row><div class="content form-horizontal col-md-{{cols || 12}}"></div></div></div>'),a.put("app/common/report/report.html",'<div class=modal tabindex=-1 role=dialog aria-hidden=true><div class=modal-dialog><div class=modal-content><div class=modal-header><h4 class=modal-title>Fehler melden</h4></div><div class=modal-body form><div name="\'Grund\'" form-element ng-if="model.reasons.length > 0"><div class="checkbox checkbox-primary" ng-repeat="reason in model.reasons track by reason.id"><input id=checkboxes-{{$index}} type=checkbox name=checkboxes value={{$index}} class=styled ng-model=reason.selected><label for=checkboxes-{{$index}}>{{reason.title}}</label></div></div><div name="\'Beschreibung (optional)\'" key="\'youtubeApiKey\'" form-element><textarea rows=4 class=form-control ng-model=model.description></textarea></div></div><div class=modal-footer><button type=button class="btn btn-primary" ng-click=send();$hide();>Melden</button> <button type=button class="btn btn-default" ng-click=$hide()>Abbrechen</button></div></div></div></div>'),a.put("app/common/table-pagination/table-pagination.html",'<div class=table-pagination ng-class="{\'text-right\': align === \'right\'}" ng-show="pagination.total > 1"><table width=100%><tr><td ng-if="align === \'right\'"><span class=text>Seite {{pagination.current}} von {{pagination.total}}</span></td><td width=1><div class=input-group><span class=input-group-btn><button class="btn btn-default" ng-click=prev() ng-disabled=pagination.first><i class="fa fa-chevron-left"></i></button></span><ui-select ng-model=pagination.current skip-focusser=true on-select=page(pagination.current)><ui-select-match><span ng-bind=$select.selected></span></ui-select-match><ui-select-choices repeat="page in pagination.options | filter: $select.search"><span ng-bind=page></span></ui-select-choices></ui-select><span class=input-group-btn><button class="btn btn-default" ng-click=next() ng-disabled=pagination.last><i class="fa fa-chevron-right"></i></button></span></div></td><td ng-if="!align || align === \'left\'"><span class=text>Seite {{pagination.current}} von {{pagination.total}}</span></td></tr></table></div>'),a.put("app/common/table-view/table-options/table-options.html",'<div class=form-inline><div class=form-group><div align="\'right\'" table-pagination=tableParams></div></div><div class=form-group><div class=input-group><ui-select ng-model=tableOptions.display.count skip-focusser=true search-enabled=false><ui-select-match><span ng-bind=$select.selected></span></ui-select-match><ui-select-choices repeat="count in displayCountOptions"><span ng-bind=count></span></ui-select-choices></ui-select><span class=input-group-btn ng-model=tableOptions.display.view bs-radio-group><label class="btn btn-default" data-title={{view.name}} ng-repeat="view in views" bs-tooltip><input type=radio class="btn btn-default" value={{view.id}}> <i class="fa {{view.icon}}"></i></label></span></div></div><div class="form-group has-feedback"><input type=text class=form-control placeholder=Suche ng-model=tableOptions.filter> <i class="fa fa-search form-control-feedback"></i></div></div>'),a.put("app/common/table-view/table-view.html",'<div><div class=row><div class=col-md-12><div class=card-content><div class=card-content-header><div class=row><div class="col-md-3 col-v-center">{{title}}</div><div class="col-md-9 col-v-center text-right"><div table-options></div></div></div></div></div></div></div><div class=row><div class="col-md-12 views" ng-show="tableParams.total() > 0"></div></div></div>'),a.put("app/common/videos-view/videos-edit/videos-edit.html",'<div class=metadata><div class=metadata-header><div class=left><button class="btn btn-default" type=button data-title=Schließen ng-click=close() bs-tooltip><i class="fa fa-fw fa-close"></i></button> <button class="btn btn-default" type=button data-title=Auto ng-click=extractAll(video) bs-tooltip><i class="fa fa-fw fa-magic"></i></button> <button class="btn btn-default" type=button data-title="Ansicht: Formular" ng-click="tabs.selected=\'form\'" ng-class="{\'active\': tabs.selected === \'form\'}" bs-tooltip><i class="fa fa-fw fa-bars"></i></button> <button class="btn btn-default" type=button data-title="Ansicht: Editor" ng-click="tabs.selected=\'editor\'" ng-class="{\'active\': tabs.selected === \'editor\'}" bs-tooltip><i class="fa fa-fw fa-code"></i></button></div><div class=right><div class=text-right><button class="btn btn-default btn-circle" type=button ng-class="valid ? \'btn-success\': \'btn-danger\'" data-title="Schema Validierung" bs-tooltip><i class="fa fa-fw" ng-class="valid ? \'fa-check\': \'fa-times\'"></i></button> <button class="btn btn-danger" type=button data-title=Löschen ng-click=delete(video) bs-tooltip><i class="fa fa-fw fa-trash"></i></button></div></div></div><div class=metadata-body><div bs-active-pane=tabs.selected bs-tabs><div name=form bs-pane><div class="form-horizontal view-form"><div class=form-group><label class=col-md-12>Formate</label><div class=col-md-12><div class=input-group><ui-select ng-model=show.selected on-select="addShow(video, show.selected)"><ui-select-match placeholder=Auswählen..><span>Auswählen..</span></ui-select-match><ui-select-choices repeat="show in (shows | filter: $select.search)"><img class="image-badge image-badge-md" img-src={{show.image}} img-fallback={{imagePlaceholders.show}} img-loading={{imagePlaceholders.show}}> <span ng-bind=show.name></span></ui-select-choices></ui-select><span class=input-group-btn><button class="btn btn-default" type=button ng-click=extractShows(video)><i class="fa fa-magic"></i></button></span></div></div></div><div class=form-group ng-if=video.shows.length><div class=col-md-12><div class=button-list><button type=button class="btn btn-default" data-title="{{show.name || show.id}}" ng-click="removeShow(video, show)" ng-repeat="show in (video.shows | videosResolve:\'shows\' | orderBy)" bs-tooltip><img class="image-badge image-badge-md" img-src={{show.image}} img-fallback={{imagePlaceholders.show}} img-loading={{imagePlaceholders.show}}> <span ng-bind=show.name></span></button></div></div></div><div class=form-group><label class=col-md-12>Moderatoren</label><div class=col-md-12><div class=input-group><ui-select ng-model=host.selected on-select="addHost(video, host.selected)"><ui-select-match placeholder=Auswählen..><span>Auswählen..</span></ui-select-match><ui-select-choices repeat="host in (hosts | filter: $select.search)"><img class="image-badge image-badge-md" img-src={{host.image}} img-fallback={{imagePlaceholders.host}} img-loading={{imagePlaceholders.host}}> <span>{{host.firstname}} {{host.lastname}}</span> <span ng-if=host.nickname>({{host.nickname}})</span></ui-select-choices></ui-select><span class=input-group-btn><button class="btn btn-default" type=button ng-click=extractHosts(video)><i class="fa fa-magic"></i></button></span></div></div></div><div class=form-group ng-if=video.hosts.length><div class=col-md-12><div class=button-list><button type=button class="btn btn-default" data-title="{{host.firstname}} {{host.lastname}}" ng-click="removeHost(video, host)" ng-repeat="host in (video.hosts | videosResolve:\'hosts\' | orderBy)" bs-tooltip><img class="image-badge image-badge-md" img-src={{host.image}} img-fallback={{imagePlaceholders.host}} img-loading={{imagePlaceholders.host}}> <span>{{host.firstname}} {{host.lastname}}</span></button></div></div></div><div class=form-group><label class=col-md-12>Serien</label><div class=col-md-12><div class=input-group><ui-select ng-model=series_.selected on-select="addSeries(video, series_.selected)"><ui-select-match placeholder=Auswählen..><span>Auswählen..</span></ui-select-match><ui-select-choices repeat="series in (series | filter: $select.search)"><img class="image-badge image-badge-md" img-src={{series.image}} img-fallback={{imagePlaceholders.series}} img-loading={{imagePlaceholders.series}}> <span ng-bind=series.name></span></ui-select-choices></ui-select><span class=input-group-btn><button class="btn btn-default" type=button ng-click=extractSeries(video)><i class="fa fa-magic"></i></button></span></div></div></div><div class=form-group ng-if=video.series.length><div class=col-md-12><div class=button-list><button type=button class="btn btn-default" data-title="{{series.name || series.id}}" ng-click="removeSeries(video, series)" ng-repeat="series in (video.series | videosResolve:\'series\' | orderBy)" bs-tooltip><img class="image-badge image-badge-md" img-src={{series.image}} img-fallback={{imagePlaceholders.series}} img-loading={{imagePlaceholders.series}}> <span ng-bind=series.name></span></button></div></div></div></div></div><div name=editor bs-pane><div class=view-editor><div json-editor=video editor-only=true></div></div></div></div></div></div>'),a.put("app/common/videos-view/videos-options/videos-options.html",'<div class="form-horizontal container-fluid"><fieldset class=row><legend>Darstellung</legend><div class=form-group><label class="col-md-4 control-label" for=view>Ansicht</label><div class=col-md-4><span class=btn-group ng-model=tableOptions.display.view bs-radio-group><label class="btn btn-default" ng-repeat="view in displayViewOptions"><input type=radio class="btn btn-default" value={{view.value}}> <i class="fa {{view.icon}}"></i></label></span></div></div><div class=form-group><label class="col-md-4 control-label" for=count>Einträge pro Seite</label><div class=col-md-4><span class=btn-group ng-model=tableOptions.display.count bs-radio-group><label class="btn btn-default" ng-repeat="count in displayCountOptions"><input type=radio class="btn btn-default" value={{count}}> {{count}}</label></span></div></div></fieldset><fieldset class=row><legend>Sortierung</legend><div class=form-group><label class="col-md-4 control-label" for=orderBy>Nach</label><div class=col-md-4><ui-select ng-model=tableOptions.order.column skip-focusser=true search-enabled=false><ui-select-match placeholder=Auswählen..><span ng-bind=$select.selected.name></span></ui-select-match><ui-select-choices repeat="item.value as item in orderByOptions"><span ng-bind=item.name></span></ui-select-choices></ui-select></div></div><div class=form-group><label class="col-md-4 control-label" for=orderType>Reihenfolge</label><div class=col-md-4><div class="radio radio-primary radio-inline" ng-repeat="radio in orderTypeOptions"><input id=OrderType{{$index}} type=radio value={{radio.value}} name=tableOptions.order.type ng-model=tableOptions.order.type ng-checked="tableOptions.order.type === radio.value"><label for=OrderType{{$index}}>{{radio.name}}</label></div></div></div></fieldset><fieldset class=row><legend>Filter</legend><div class=form-group><label class="col-md-4 control-label" for=filterTitle>Titel</label><div class=col-md-4><div class=input-group><input id=filterTitle name=filterTitle type=text placeholder=Titel class=form-control ng-model=tableOptions.filter.title.text> <span class=input-group-btn><button class="btn btn-default" type=button ng-disabled=!tableOptions.filter.title.text ng-click="tableOptions.filter.title.text=null"><i class="fa fa-times"></i></button></span></div></div></div><div class=form-group><div class="col-md-4 col-md-offset-4"><div class="checkbox checkbox-inline checkbox-primary"><input id=filterTitleRegex class=styled type=checkbox ng-model=tableOptions.filter.title.regex><label for=filterTitleRegex>Regex</label></div><div class="checkbox checkbox-inline checkbox-primary"><input id=filterTitleSensitive class=styled type=checkbox ng-model=tableOptions.filter.title.sensitive><label for=filterTitleSensitive>Groß-/Kleinschreibung</label></div></div></div><div class=form-group><label class="col-md-4 control-label" for=filterChannels>Kanäle</label><div class=col-md-4><ui-select ng-model=channel.selected on-select=addFilterChannel(channel.selected.id)><ui-select-match placeholder=Kanäle..><span class=text-muted>Kanäle..</span></ui-select-match><ui-select-choices repeat="channel in (channels | filter: $select.search | orderBy)"><img class="image-badge image-badge-md" img-src={{channel.image}} img-fallback={{imagePlaceholders.channel}} img-loading={{imagePlaceholders.channel}}> <span ng-bind=channel.title></span></ui-select-choices></ui-select></div></div><div class=form-group ng-if=tableOptions.filter.channels.filter.length><div class="col-md-offset-4 col-md-8"><div class=button-list><button type=button class="btn btn-default" data-title="{{channel.title || channel.id}}" ng-click=removeFilterChannel(channel.id) ng-repeat="channel in tableOptions.filter.channels.filter | videosResolve:\'channels\' | orderBy" bs-tooltip><img class="image-badge image-badge-md" img-src={{channel.image}} img-fallback={{imagePlaceholders.channel}} img-loading={{imagePlaceholders.channel}}> <span ng-bind=channel.title></span></button></div></div></div><div class=form-group><label class="col-md-4 control-label" for=filterShows>Formate</label><div class=col-md-4><div class=input-group><ui-select ng-model=show.selected skip-focusser=true on-select=addFilterShow(show.selected.id)><ui-select-match placeholder=Formate..><span class=text-muted>Formate..</span></ui-select-match><ui-select-choices repeat="show in (shows | filter: $select.search | orderBy)"><img class="image-badge image-badge-md" img-src={{show.image}} img-fallback={{imagePlaceholders.show}} img-loading={{imagePlaceholders.show}}> <span ng-bind=show.name></span></ui-select-choices></ui-select><div class=input-group-btn><ui-select ng-model=tableOptions.filter.shows.match skip-focusser=true search-enabled=false><ui-select-match placeholder=Verknüpfung..><span ng-bind=$select.selected.name></span></ui-select-match><ui-select-choices repeat="item.value as item in filterMatchOptions"><span ng-bind=item.name></span></ui-select-choices></ui-select></div></div></div></div><div class=form-group ng-if=tableOptions.filter.shows.filter.length><div class="col-md-offset-4 col-md-8"><div class=button-list><button type=button class="btn btn-default" data-title="{{show.name || show.id}}" ng-click=removeFilterShow(show.id) ng-repeat="show in tableOptions.filter.shows.filter | videosResolve:\'shows\' | orderBy" bs-tooltip><img class="image-badge image-badge-md" img-src={{show.image}} img-fallback={{imagePlaceholders.show}} img-loading={{imagePlaceholders.show}}> <span ng-bind=show.name></span></button></div></div></div><div class=form-group><label class="col-md-4 control-label" for=filterHosts>Moderatoren</label><div class=col-md-4><div class=input-group><ui-select ng-model=host.selected skip-focusser=true on-select=addFilterHost(host.selected.id)><ui-select-match placeholder=Moderatoren..><span class=text-muted>Moderatoren..</span></ui-select-match><ui-select-choices repeat="host in (hosts | filter: $select.search | orderBy)"><img class="image-badge image-badge-md" img-src={{host.image}} img-fallback={{imagePlaceholders.host}} img-loading={{imagePlaceholders.host}}> <span>{{host.firstname}} {{host.lastname}}</span> <span ng-if=host.nickname>({{host.nickname}})</span></ui-select-choices></ui-select><div class=input-group-btn><ui-select ng-model=tableOptions.filter.hosts.match skip-focusser=true search-enabled=false><ui-select-match placeholder=Verknüpfung..><span ng-bind=$select.selected.name></span></ui-select-match><ui-select-choices repeat="item.value as item in filterMatchOptions"><span ng-bind=item.name></span></ui-select-choices></ui-select></div></div></div></div><div class=form-group ng-if=tableOptions.filter.hosts.filter.length><div class="col-md-offset-4 col-md-8"><div class=button-list><button type=button class="btn btn-default" data-title="{{host.firstname}} {{host.lastname}}" ng-click=removeFilterHost(host.id) ng-repeat="host in tableOptions.filter.hosts.filter | videosResolve:\'hosts\' | orderBy" bs-tooltip><img class="image-badge image-badge-md" img-src={{host.image}} img-fallback={{imagePlaceholders.host}} img-loading={{imagePlaceholders.host}}> <span>{{host.firstname}} {{host.lastname}}</span> <span ng-if=host.nickname>({{host.nickname}})</span></button></div></div></div><div class=form-group><label class="col-md-4 control-label" for=filterHosts>Serien</label><div class=col-md-4><div class=input-group><ui-select ng-model=series_.selected skip-focusser=true on-select=addFilterSeries(series_.selected.id)><ui-select-match placeholder=Serien..><span class=text-muted>Serien..</span></ui-select-match><ui-select-choices repeat="series_ in (series | filter: $select.search | orderBy)"><img class="image-badge image-badge-md" img-src={{series_.image}} img-fallback={{imagePlaceholders.series}} img-loading={{imagePlaceholders.series}}> <span ng-bind=series_.name></span></ui-select-choices></ui-select><div class=input-group-btn><ui-select ng-model=tableOptions.filter.series.match skip-focusser=true search-enabled=false><ui-select-match placeholder=Verknüpfung..><span ng-bind=$select.selected.name></span></ui-select-match><ui-select-choices repeat="item.value as item in filterMatchOptions"><span ng-bind=item.name></span></ui-select-choices></ui-select></div></div></div></div><div class=form-group ng-if=tableOptions.filter.series.filter.length><div class="col-md-offset-4 col-md-8"><div class=button-list><button type=button class="btn btn-default" data-title="{{series_.name || show.id}}" ng-click=removeFilterSeries(series_.id) ng-repeat="series_ in tableOptions.filter.series.filter | videosResolve:\'series\' | orderBy" bs-tooltip><img class="image-badge image-badge-md" img-src={{series_.image}} img-fallback={{imagePlaceholders.series}} img-loading={{imagePlaceholders.series}}> <span ng-bind=series_.name></span></button></div></div></div><div class=form-group><label class="col-md-4 control-label" for=filterLength>Laufzeit</label><div class=col-md-2><div class=input-group><input type=text class=form-control ng-model=tableOptions.filter.duration.start bs-timepicker> <span class=input-group-btn><button class="btn btn-default clear" ng-click="tableOptions.filter.duration.start=null" ng-disabled=!tableOptions.filter.duration.start><i class="fa fa-times"></i></button></span></div></div></div><div class=form-group><div class="col-md-2 col-md-offset-4"><div class=input-group><input type=text class=form-control ng-model=tableOptions.filter.duration.end bs-timepicker> <span class=input-group-btn><button class="btn btn-default clear" ng-click="tableOptions.filter.duration.end=null" ng-disabled=!tableOptions.filter.duration.end><i class="fa fa-times"></i></button></span></div></div></div><div class=form-group><label class="col-md-4 control-label" for=filterPublished>Veröffentlichung</label><div class=col-md-2><div class=input-group><input type=text class=form-control ng-model=tableOptions.filter.published.start bs-datepicker> <span class=input-group-btn><button class="btn btn-default clear" ng-click="tableOptions.filter.published.start=null" ng-disabled=!tableOptions.filter.published.start><i class="fa fa-times"></i></button></span></div></div></div><div class=form-group><div class="col-md-2 col-md-offset-4"><div class=input-group><input type=text class=form-control ng-model=tableOptions.filter.published.end bs-datepicker> <span class=input-group-btn><button class="btn btn-default clear" ng-click="tableOptions.filter.published.end=null" ng-disabled=!tableOptions.filter.published.end><i class="fa fa-times"></i></button></span></div></div></div><div class=form-group><label class="col-md-4 control-label" for=filterAired>Ausstrahlung</label><div class=col-md-2><div class=input-group><input type=text class=form-control ng-model=tableOptions.filter.aired.start bs-datepicker> <span class=input-group-btn><button class="btn btn-default clear" ng-click="tableOptions.filter.aired.start=null" ng-disabled=!tableOptions.filter.aired.start><i class="fa fa-times"></i></button></span></div></div></div><div class=form-group><div class="col-md-2 col-md-offset-4"><div class=input-group><input type=text class=form-control ng-model=tableOptions.filter.aired.end bs-datepicker> <span class=input-group-btn><button class="btn btn-default clear" ng-click="tableOptions.filter.aired.end=null" ng-disabled=!tableOptions.filter.aired.end><i class="fa fa-times"></i></button></span></div></div></div><div class=form-group><label class="col-md-4 control-label">Event</label><div class=col-md-4><div class="radio radio-primary radio-inline" ng-repeat="selection in filterSelectionOptions"><input id=filterEvents{{$index}} type=radio ng-value={{selection.value}} name=filterEvents ng-model=tableOptions.filter.event ng-checked="tableOptions.filter.event === selection.value"><label for=filterEvents{{$index}}>{{selection.name}}</label></div></div></div><div class=form-group ng-if="mode === \'edit\'"><label class="col-md-4 control-label">Keine Formate</label><div class=col-md-4><div class="radio radio-primary radio-inline" ng-repeat="selection in filterSelectionOptions"><input id=filterNoShow{{$index}} type=radio ng-value={{selection.value}} name=filterNoShow ng-model=tableOptions.filter.noShow ng-checked="tableOptions.filter.noShow === selection.value"><label for=filterNoShow{{$index}}>{{selection.name}}</label></div></div></div><div class=form-group ng-if="mode === \'edit\'"><label class="col-md-4 control-label">Keine Moderatoren</label><div class=col-md-4><div class="radio radio-primary radio-inline" ng-repeat="selection in filterSelectionOptions"><input id=filterNoHost{{$index}} type=radio ng-value={{selection.value}} name=filterNoHost ng-model=tableOptions.filter.noHost ng-checked="tableOptions.filter.noHost === selection.value"><label for=filterNoHost{{$index}}>{{selection.name}}</label></div></div></div><div class=form-group ng-if="mode === \'edit\'"><label class="col-md-4 control-label">Keine Serien</label><div class=col-md-4><div class="radio radio-primary radio-inline" ng-repeat="selection in filterSelectionOptions"><input id=filterNoSeries{{$index}} type=radio ng-value={{selection.value}} name=filterNoSeries ng-model=tableOptions.filter.noSeries ng-checked="tableOptions.filter.noSeries === selection.value"><label for=filterNoSeries{{$index}}>{{selection.name}}</label></div></div></div><div class=form-group ng-if="mode === \'edit\'"><label class="col-md-4 control-label">Online</label><div class=col-md-4><div class="radio radio-primary radio-inline" ng-repeat="selection in filterSelectionOptions"><input id=filterOnline{{$index}} type=radio ng-value={{selection.value}} name=filterOnline ng-model=tableOptions.filter.online ng-checked="tableOptions.filter.online === selection.value"><label for=filterOnline{{$index}}>{{selection.name}}</label></div></div></div><div class=form-group ng-if="mode === \'edit\'"><label class="col-md-4 control-label">Valid</label><div class=col-md-4><div class="radio radio-primary radio-inline" ng-repeat="selection in filterSelectionOptions"><input id=filterValid{{$index}} type=radio ng-value={{selection.value}} name=filterValid ng-model=tableOptions.filter.valid ng-checked="tableOptions.filter.valid === selection.value"><label for=filterValid{{$index}}>{{selection.name}}</label></div></div></div><div class=form-group><label class="col-md-4 control-label">Ergebnis Invertieren</label><div class=col-md-4><div class="checkbox checkbox-primary checkbox-inline"><input id=invert type=checkbox name=invert ng-model=tableOptions.filter.invert><label for=invert>{{selection.name}}</label></div></div></div></fieldset><div class=row><div class=form-group><div class="col-md-4 col-md-offset-4"><button class="btn btn-primary" ng-click=applyFilter()>Anwenden</button> <button class="btn btn-default" ng-click=resetFilter()>Zurücksetzen</button></div></div></div><div class=clearfix></div></div>'),a.put("app/common/videos-view/videos-view-card-edit.html",'<div class=card-transparent><table class="table cards" ng-table=tableParams><tr ng-repeat="video in $data track by video.id"><td class=hide></td></tr><td class=container-fluid><div class=row><div ng-repeat="video in $data track by video.id" class="col-xs-12 col-sm-6 col-md-4 col-lg-3"><div class=card-image ng-class="getHighlight(video) ? \'highlight\' : \'\'"><div ng-if=metadataVisible videos-edit></div><div class="card-image-header card-image-header-lg"><div class=image><a ng-href=#/editor/videos/{{video.id}}><img class=img img-src=https://i1.ytimg.com/vi/{{video.id}}/mqdefault.jpg img-fallback={{imagePlaceholders.video}} img-loading={{imagePlaceholders.video}}></a></div><div class=hosts><span ng-repeat="host in video.hosts | videosResolve:\'hosts\' | orderBy"><a ng-href=#/editor/videos/hosts/{{host.id}} data-title="{{host.firstname}} {{host.lastname}}" data-animation=badge-zoom-tooltip bs-tooltip touch-tooltip><span class=badge-remove-container><img class="image-badge image-badge-md badge-zoom" img-src={{host.image}} img-fallback={{imagePlaceholders.host}} img-loading={{imagePlaceholders.host}}> <span class=badge-remove ng-click="removeHost(video, host); $event.preventDefault();"><i class="fa fa-times"></i></span></span></a></span></div><div class=shows><span ng-repeat="show in video.shows | videosResolve:\'shows\' | orderBy"><a ng-href=#/editor/videos/shows/{{show.id}} data-title={{show.name}} data-animation=badge-zoom-tooltip bs-tooltip touch-tooltip><span class=badge-remove-container><img class="image-badge image-badge-md badge-zoom" img-src={{show.image}} img-fallback={{imagePlaceholders.show}} img-loading={{imagePlaceholders.show}}><div class=badge-remove ng-click="removeShow(video, show); $event.preventDefault();"><i class="fa fa-times"></i></div></span></a></span></div><div class=series><span ng-repeat="series in video.series | videosResolve:\'series\' | orderBy"><a ng-href=#/editor/videos/series/{{series.id}} data-title={{series.name}} data-animation=badge-zoom-tooltip bs-tooltip touch-tooltip><span class=badge-remove-container><img class="image-badge image-badge-md badge-zoom" img-src={{series.image}} img-fallback={{imagePlaceholders.series}} img-loading={{imagePlaceholders.series}}><div class=badge-remove ng-click="removeSeries(video, series); $event.preventDefault();"><i class="fa fa-times"></i></div></span></a></span></div><div class=duration>{{video.duration | duration}}</div><div class=rating data-title={{getRatingPercent(video)}}% bs-tooltip><div class=bar style="width: {{getRatingPercent(video)}}%"></div></div></div><div class="card-image-body card-image-body-xs"><div class=stats><div data-title=Views bs-tooltip><i class="fa fa-eye"></i> {{video.stats.viewCount | number}}</div><div data-title=Kommentare bs-tooltip><i class="fa fa-comments"></i> {{video.stats.commentCount | number}}</div><div data-title="Positive Bewertungen" bs-tooltip><i class="fa fa-thumbs-up"></i> {{video.stats.likeCount | number}}</div><div data-title="Negative Bewertungen" bs-tooltip><i class="fa fa-thumbs-down"></i> {{video.stats.dislikeCount | number}}</div></div><div class=clearfix></div><div class=title><a ng-href=#/editor/videos/{{video.id}}>{{video.title}}</a></div></div><div class=card-image-footer><table><tr><td width=1><button class="btn btn-default" type=button data-title=Bearbeiten ng-mouseover="$parent.toolbarVisible=true" ng-mouseleave="$parent.toolbarVisible=false" ng-click="$parent.metadataVisible=true" bs-tooltip touch-tooltip2><i class="fa fa-edit"></i></button><div class=toolbar ng-mouseover="toolbarVisible=true" ng-mouseleave="toolbarVisible=false" ng-show=toolbarVisible><button class="btn btn-default" type=button data-title=Auto ng-click=extractAll(video) bs-tooltip><i class="fa fa-magic"></i></button> <button class="btn btn-default" type=button data-title=Kopieren ng-click=copy(video) bs-tooltip><i class="fa fa-copy"></i></button> <button class="btn btn-default" type=button data-title=Einfügen ng-click=paste(video) bs-tooltip><i class="fa fa-paste"></i></button></div></td><td class="dates text-right"><span data-title=Veröffentlichung ng-show=video.published bs-tooltip><i class="fa fa-upload"></i> {{video.published * 1000 | amDateFormat:\'l\'}}</span> <span data-title=Ausstrahlung ng-show=video.aired bs-tooltip><i class="fa fa-calendar"></i> <a ng-href="#/live?from={{getLiveFrom(video)}}&to={{getLiveTo(video)}}" touch-tooltip>{{video.aired * 1000 | amDateFormat:\'l\'}}</a></span></td></tr></table></div></div></div></div></td></table><div table-pagination=tableParams></div></div>'),
a.put("app/common/videos-view/videos-view-card-view.html",'<div class=card-transparent><table class="table cards" ng-table=tableParams><tr ng-repeat="video in $data track by video.id"><td class=hide></td></tr><td class=container-fluid><div class=row><div ng-repeat="video in $data track by video.id" class="col-xs-12 col-sm-6 col-md-4 col-lg-3"><div class=card-image><div class="card-image-header card-image-header-lg"><div class=image><a ng-href="https://youtube.com/watch?v={{video.id}}" target=_blank><img class=img img-src=https://i1.ytimg.com/vi/{{video.id}}/mqdefault.jpg img-fallback={{imagePlaceholders.video}} img-loading={{imagePlaceholders.video}}></a></div><div class=hosts><span ng-repeat="host in video.hosts | videosResolve:\'hosts\' | orderBy"><a ng-href=#/videos/hosts/{{host.id}} data-title="{{host.firstname}} {{host.lastname}}" data-animation=badge-zoom-tooltip bs-tooltip touch-tooltip><img class="image-badge image-badge-md badge-zoom" img-src={{host.image}} img-fallback={{imagePlaceholders.host}} img-loading={{imagePlaceholders.host}}></a></span></div><div class=shows><span ng-repeat="show in video.shows | videosResolve:\'shows\' | orderBy"><a ng-href=#/videos/shows/{{show.id}} data-title={{show.name}} data-animation=badge-zoom-tooltip bs-tooltip touch-tooltip><img class="image-badge image-badge-md badge-zoom" img-src={{show.image}} img-fallback={{imagePlaceholders.show}} img-loading={{imagePlaceholders.show}}></a></span></div><div class=series><span ng-repeat="series in video.series | videosResolve:\'series\' | orderBy"><a ng-href=#/videos/series/{{series.id}} data-title={{series.name}} data-animation=badge-zoom-tooltip bs-tooltip touch-tooltip><img class="image-badge image-badge-md badge-zoom" img-src={{series.image}} img-fallback={{imagePlaceholders.series}} img-loading={{imagePlaceholders.series}}></a></span></div><div class=duration>{{video.duration | duration}}</div><div class=rating data-title={{getRatingPercent(video)}}% bs-tooltip><div class=bar style="width: {{getRatingPercent(video)}}%"></div></div></div><div class="card-image-body card-image-body-xs"><div class=stats><div data-title=Views bs-tooltip><i class="fa fa-eye"></i> {{video.stats.viewCount | number}}</div><div data-title=Kommentare bs-tooltip><i class="fa fa-comments"></i> {{video.stats.commentCount | number}}</div><div data-title="Positive Bewertungen" bs-tooltip><i class="fa fa-thumbs-up"></i> {{video.stats.likeCount | number}}</div><div data-title="Negative Bewertungen" bs-tooltip><i class="fa fa-thumbs-down"></i> {{video.stats.dislikeCount | number}}</div></div><div class=clearfix></div><div class=title><a ng-href="https://youtube.com/watch?v={{video.id}}" target=_blank>{{video.title}}</a></div></div><div class=card-image-footer><table><tr><td width=1><a href=javascript:void(0); report=videos report-id={{video.id}}><i class="fa fa-flag"></i></a></td><td class="dates text-right"><span data-title=Veröffentlichung ng-show=video.published bs-tooltip><i class="fa fa-upload"></i> {{video.published * 1000 | amDateFormat:\'l\'}}</span> <span data-title=Ausstrahlung ng-show=video.aired bs-tooltip><i class="fa fa-calendar"></i> <a ng-href="#/live?from={{getLiveFrom(video)}}&to={{getLiveTo(video)}}" touch-tooltip>{{video.aired * 1000 | amDateFormat:\'l\'}}</a></span></td></tr></table></div></div></div></div></td></table><div table-pagination=tableParams></div></div>'),a.put("app/common/videos-view/videos-view-list.html",'<div class=card-content><div class=card-content-body><div class=table-container><table class="table table-hover list" ng-table=tableParams><tr class="middle link" ng-repeat="video in $data" ng-click=details(video)><td title="\'Titel\'" data-sortable="\'title\'"><a ng-href="https://youtube.com/watch?v={{video.id}}" target=_blank>{{video.title}}</a></td><td width=140 title="\'Kanal\'" data-sortable="\'channel\'">{{(video.channel | videosResolve:\'channels\').title}}</td><td width=100 title="\'Laufzeit\'" data-sortable="\'duration\'">{{video.duration | duration}}</td><td width=100 title="\'Veröffentlichung\'" data-sortable="\'published\'">{{video.published * 1000 | amDateFormat:\'l\'}}</td><td width=100 title="\'Ausstrahlung\'" data-sortable="\'aired\'">{{video.aired && (video.aired * 1000 | amDateFormat:\'l\')}}</td><td width=80 title="\'Aufrufe\'" data-sortable="\'stats.viewCount\'">{{video.stats.viewCount}}</td><td width=85 title="\'P. Bew.\'" data-sortable="\'stats.likeCount\'">{{video.stats.likeCount}}</td><td width=85 title="\'N. Bew.\'" data-sortable="\'stats.dislikeCount\'">{{video.stats.dislikeCount}}</td></tr></table></div></div></div><div table-pagination=tableParams></div>'),a.put("app/common/videos-view/videos-view.html",'<div><div class=card-content><div class=card-content-header><table width=100%><tr><td>Zeige {{tableParams.total()}} von {{videos.length}} Videos <span ng-if="tableParams.total() !== videos.length">({{videos.length - tableParams.total()}} Videos ausgeblendet)</span></td><td class=text-right><button type=button class="btn btn-default" ng-click="optionsHidden=!optionsHidden"><i class="fa fa-sliders"></i> Optionen</button></td></tr></table></div><div class=card-content-body ng-model=optionsHidden bs-collapse bs-collapse-target><div videos-options></div></div></div><div ng-if=!tableHidden><div ng-include="\'app/common/videos-view/videos-view-list.html\'" ng-if="tableOptions.display.view === \'list\'"></div><div ng-if="tableOptions.display.view === \'card\'"><div><div ng-include="\'app/common/videos-view/videos-view-card-edit.html\'" ng-if="mode === \'edit\'"></div><div ng-include="\'app/common/videos-view/videos-view-card-view.html\'" ng-if="mode === \'view\'"></div></div></div></div></div>'),a.put("app/editor/app.editor.html","<div init><div ng-include=\"'app/editor/navigation/navigation.html'\"></div><div init><div class=main ui-view></div></div></div>"),a.put("app/editor/config/config.html",'<div class="container-fluid animate-main-content" init><div class=row><div class=col-md-12><div class=card-content><div class=card-content-header>Einstellungen</div><div class=card-content-body cols=6 form><legend>Authentifizierung</legend><div name="\'Youtube API Key\'" key="\'youtubeApiKey\'" form-element><input type=text class=form-control ng-model=config.youtubeApiKey></div><div name="\'Github API OAuth Token\'" key="\'githubApiOAuthToken\'" form-element><input type=text class=form-control ng-model=config.githubApiOAuthToken></div><div name="\'IGDB API Key\'" key="\'igdbApiKey\'" form-element><input type=text class=form-control ng-model=config.igdbApiKey></div><legend>Daten</legend><div name="\'Github Basis URL\'" key="\'githubBaseUrl\'" form-element><input type=text class=form-control ng-model=config.githubBaseUrl></div><div name="\'Github Repository\'" key="\'githubRepository\'" form-element><input type=text class=form-control ng-model=config.githubRepository></div><div name="\'Github Branch\'" key="\'githubBranch\'" form-element><input type=text class=form-control ng-model=config.githubBranch></div><div name="\'Video Daten\'" key="\'videosPath\'" form-element><input type=text class=form-control ng-model=config.videosPath></div><div name="\'Live Daten\'" key="\'livePath\'" form-element><input type=text class=form-control ng-model=config.livePath></div><div form-element><button class="btn btn-primary" ng-click=reset()><i class="fa fa-undo"></i> Zurücksetzten</button></div></div></div></div></div></div>'),a.put("app/editor/navigation/navigation.html",'<nav class="navbar navbar-inverse navbar-custom" role=navigation data-start-collapsed=true bs-navbar bs-collapse><div class=container-fluid><div class=navbar-header><button type=button class="navbar-toggle collapsed" bs-collapse-toggle><span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href="#/editor/">Editor</a></div><div class="collapse navbar-collapse" bs-collapse-target><ul class="nav navbar-nav"><li class=dropdown data-match-route=/editor/videos/*><a href=# bs-dropdown>Videos <span class=caret></span></a><ul class=dropdown-menu role=menu><li data-match-route="/editor/videos/data/"><a ng-href="#/editor/videos/data/">Daten</a></li><li data-match-route="/editor/videos/channels/"><a ng-href="#/editor/videos/channels/">Kanäle</a></li><li data-match-route="/editor/videos/shows/"><a ng-href="#/editor/videos/shows/">Formate</a></li><li data-match-route="/editor/videos/hosts/"><a ng-href="#/editor/videos/hosts/">Moderatoren</a></li><li data-match-route="/editor/videos/series/"><a ng-href="#/editor/videos/series/">Serien</a></li><li data-match-route="/editor/videos/"><a ng-href="#/editor/videos/">Videos</a></li></ul></li><li data-match-route="/editor/config/"><a ng-href="#/editor/config/">Einstellungen</a></li></ul></div></div></nav>'),a.put("app/editor/utils/img-input/img-input.html",'<table class=img-input><tr><td class=left><a href=javascript:void(0); ng-click=save(image)><img ng-src={{image}}></a><canvas id=imageCanvas width=100 height=100 class=hide></canvas></td><td class=right><div class=input-group><input id=image name=image type=text class=form-control ng-model=image> <span class=input-group-btn><button class="btn btn-default" type=button ng-click=convertImageUrl(image)><i class="fa fa-fw fa-picture-o"></i></button></span></div><div class=input-group><button class="btn btn-default btn-file"><i class="fa fa-folder-o"></i> Öffnen.. <input type=file name=test onchange=angular.element(this).scope().changedImageSelection(this.files[0])></button></div></td></tr></table>'),a.put("app/editor/utils/json-editor/json-editor.html","<div class=json-editor><div ng-model=editor.data options=editor.options ng-jsoneditor></div></div>"),a.put("app/editor/videos/channels/channels-all/channels-all-card.html",'<div class=card-transparent><table class="table cards" ng-table=channelsTable><tr ng-repeat="channel in $data"><td class=hide></td></tr><td class=container-fluid><div class=row><div ng-repeat="channel in $data" class="col-xs-12 col-sm-6 col-md-4 col-lg-3"><div class=card-image><div class="card-image-header card-image-header-xs"><div class=image><a ui-sref="editor.videos.channels.one({channelId: channel.id})"><img class="image-badge image-badge-lg" img-src={{channel.image}} img-fallback={{imagePlaceholders.channel}} img-loading={{imagePlaceholders.channel}}></a></div><div class=scroll-container swipe-propagation=false perfect-scrollbar><div class=title><a ui-sref="editor.videos.channels.one({channelId: channel.id})">{{channel.title || \'(Kein Titel)\'}}</a></div><div class=content ng-bind-html=channel.description></div></div></div><div class="card-image-footer text-right"><a ui-sref="editor.videos.channels.one({channelId: channel.id})"><i class="fa fa-lg fa-chevron-right"></i></a></div></div></div></div></td></table></div>'),a.put("app/editor/videos/channels/channels-all/channels-all-list.html",'<div class=card-content><div class=card-content-body><div class=table-container><table class="table table-hover list" ng-table=channelsTable><tr class="middle link" ui-sref="editor.videos.channels.one({channelId: channel.id})" ng-repeat="channel in $data"><td width=1><img img-src={{channel.image}} img-fallback={{imagePlaceholders.channel}} img-loading={{imagePlaceholders.channel}}></td><td width=200 title="\'Titel\'" data-sortable="\'title\'">{{channel.title}}</td><td width=1 title="\'Benutzername\'" data-sortable="\'username\'">{{channel.username}}</td><td width=1 title="\'Kanal ID\'" data-sortable="\'channelId\'">{{channel.channelId}}</td><td width=1 title="\'Video Playlist ID\'" data-sortable="\'playlistId\'">{{channel.playlistId}}</td><td title="\'Beschreibung\'" data-sortable="\'description\'"><div class=limit-height ng-bind-html=channel.description></div></td></tr></table></div></div></div>'),a.put("app/editor/videos/channels/channels-all/channels-all.html",'<div class="container-fluid animate-main-content" init><div table-view-data=channels table-view-options=channelsOptions table-view=channelsTable><title>Kanäle</title><div id=list name=Liste icon=fa-th-list template=app/editor/videos/channels/channels-all/channels-all-list.html></div><div id=card name=Kacheln icon=fa-th-large template=app/editor/videos/channels/channels-all/channels-all-card.html></div></div><div class=row><div class=col-md-12><div class="card-transparent text-right"><button class="btn btn-default" type=button ng-click=add()><i class="fa fa-plus"></i> Hinzufügen</button></div></div></div><div class=row><div class=col-md-12><div class=card-content><div class=card-content-header>Code Ausführen</div><div class=card-content-body><div><code>_.each(channels, function(channel) {<textarea class=form-control rows=10 ng-model=exec.code></textarea>});</code></div><div><button class="btn btn-default" type=button ng-click=run(exec)><i class="fa fa-exclamation"></i> Ausführen</button></div></div></div></div></div></div>'),a.put("app/editor/videos/channels/channels-one/channels-one.html",'<div class="container-fluid animate-main-content" init><div class=row><div class="col-md-12 text-right"><div class=card-content><div class=card-content-header><button class="btn btn-default btn-circle" type=button data-title="Schema Validierung" ng-class="valid ? \'btn-success\': \'btn-danger\'" bs-tooltip><i class="fa fa-fw" ng-class="valid ? \'fa-check\': \'fa-times\'"></i></button> <button class="btn btn-danger" type=button ng-click=delete(channel)><i class="fa fa-trash"></i> Löschen</button></div></div></div></div><div class=row><div class=col-md-6><div class=card-content><div class=card-content-header>Kanal</div><div class=card-content-body form><div name="\'Primärschlüssel\'" key="\'id\'" form-element><div class=input-group ng-init="lockedId=true"><input type=text class=form-control ng-model=channel.id ng-disabled=lockedId> <span class=input-group-btn><button class="btn btn-default" type=button ng-click="lockedId=!lockedId"><i class="fa fa-fw" ng-class="{\'fa-lock\': lockedId, \'fa-unlock-alt\': !lockedId}"></i></button></span></div></div><div name="\'Benutzername\'" key="\'username\'" form-element><div class=input-group><input type=text class=form-control ng-model=channel.username> <span class=input-group-btn><button class="btn btn-default" type=button ng-click="fetchMetadata(channel, {username: channel.username})"><i class="fa fa-fw fa-refresh"></i></button></span></div></div><div name="\'Kanal ID\'" key="\'channelId\'" form-element><div class=input-group><input type=text class=form-control ng-model=channel.channelId> <span class=input-group-btn><button class="btn btn-default" type=button ng-click="fetchMetadata(channel, {id: channel.channelId})"><i class="fa fa-fw fa-refresh"></i></button></span></div></div><div name="\'Video Playlist ID\'" key="\'playlistId\'" form-element><input type=text class=form-control ng-model=channel.playlistId></div><div name="\'Titel\'" key="\'title\'" form-element><input type=text class=form-control ng-model=channel.title></div><div name="\'Beschreibung\'" key="\'description\'" form-element><textarea type=text rows=5 class=form-control ng-model=channel.description></textarea></div><div name="\'Bild\'" key="\'image\'" form-element><div download=channel.id img-input=channel.image></div></div></div></div></div><div class=col-md-6><div json-editor=channel></div></div></div><div videos-view-mode="\'edit\'" videos-view-data=videos videos-view-options=videosOptions videos-view=videosTable></div></div>'),a.put("app/editor/videos/channels/channels.html","<div><div ui-view></div></div>"),a.put("app/editor/videos/data/data.html",'<div class="container-fluid animate-main-content" init><div class=row><div class=col-md-12><div class=card-content><div class=card-content-header>Daten</div><div class=card-content-body><div class=table-container><table class="table table-hover list"><thead><tr><td width=1>Validierung</td><td width=15%>ID</td><td width=15%>Name</td><td># Datensätze</td><td width=180></td></tr></thead><tbody><tr class=middle ng-class="{\'danger\': !dataValid[DataSrv.id]}" ng-repeat="DataSrv in dataServices"><td><button class="btn btn-circle btn-default" ng-class="dataValid[DataSrv.id] ? \'btn-success\' : \'btn-danger\'"><i class="fa fa-fw" ng-class="dataValid[DataSrv.id] ? \'fa-check\' : \'fa-times\'"></i></button></td><td>{{DataSrv.id}}</td><td>{{DataSrv.name}}</td><td>{{DataSrv.total()}}</td><td class=text-right><button class="btn btn-default" data-title=Export ng-click=export(DataSrv) bs-tooltip><i class="fa fa-level-up"></i></button> <button class="btn btn-default btn-file" data-title=Import bs-tooltip><i class="fa fa-level-down"></i> <input type=file onchange="angular.element(this).scope().import(angular.element(this).scope().DataSrv, this.files)" multiple></button> <button class="btn btn-warning" data-title="An Schema anpassen" ng-click=forceData(DataSrv) bs-tooltip><i class="fa fa-database"></i></button> <button class="btn btn-danger" data-title=Leeren ng-click=clearData(DataSrv) bs-tooltip><i class="fa fa-eraser"></i></button></td></tr></tbody></table></div><br><form class=form-horizontal><div class=form-group><div class=col-md-12><button class="btn btn-primary" ng-click=exportAll()><i class="fa fa-level-up"></i> Alle Exportieren</button> <button class="btn btn-primary btn-file"><i class="fa fa-level-down"></i> Alle Importieren <input type=file onchange=angular.element(this).scope().importAll(this.files[0])></button></div></div></form></div></div><div class=card-content><div class=card-content-header>Server Synchronisation</div><div class=card-content-body><div class=form-horizontal><div class=form-group><label class="col-md-4 control-label">Server</label><div class=col-md-4><div>{{remoteMetadata.hash}} <span ng-if=!remoteMetadata>N/A</span> <button class="btn btn-circle btn-xs btn-default" ng-click=updateRemoteMetadata()><i class="fa fa-fw fa-refresh"></i></button></div><div class=text-muted ng-if=remoteMetadata>{{remoteMetadata.update | amFromUnix | amDateFormat:\'LLLL\'}} <span>(<span am-time-ago="remoteMetadata.update | amFromUnix"></span>)</span></div></div></div><div class=form-group><label class="col-md-4 control-label">Lokal</label><div class=col-md-4>{{localDataHash || \'N/A\'}} <button class="btn btn-circle btn-xs btn-default" data-title="Hash Vergleich" ng-class="localDataHash === remoteMetadata.hash ? \'btn-success\' : \'btn-danger\'" bs-tooltip><i class="fa fa-fw" ng-class="localDataHash === remoteMetadata.hash ? \'fa-check\' : \'fa-times\'"></i></button></div></div><div class=form-group><div class="col-md-4 col-md-offset-4"><button class="btn btn-primary" ng-click=upload() ng-disabled=syncState.activeUpload><i class="fa fa-fw" ng-class="syncState.activeUpload ? \'fa-spin fa-refresh\' : \'fa-upload\'"></i> Push</button> <button class="btn btn-primary" ng-click=download() ng-disabled=syncState.activeDownload><i class="fa fa-fw" ng-class="syncState.activeDownload ? \'fa-spin fa-refresh\' : \'fa-download\'"></i> Pull</button></div></div></div></div></div><div class=card-content><div class=card-content-header>Backup</div><div class=card-content-body><div class=table-container><table class="table table-hover list" ng-if=dataBackups.length><thead><tr><td width=350>Datum</td><td>Hash</td><td width=180></td></tr></thead><tbody><tr class=middle ng-repeat="dataBackup in dataBackups track by dataBackup.id"><td>{{dataBackup.time | amFromUnix | amDateFormat:\'LLLL\'}}<div>(<span am-time-ago="dataBackup.time | amFromUnix"></span>)</div></td><td>{{dataBackup.hash}}</td><td class=text-right><button class="btn btn-default" data-title=Anwenden ng-click=restoreBackup(dataBackup) bs-tooltip><i class="fa fa-undo"></i></button> <button class="btn btn-danger" data-title=Löschen ng-click=deleteBackup(dataBackup) bs-tooltip><i class="fa fa-times"></i></button></td></tr></tbody></table></div><div class=form-horizontal><div class=form-group><div class=col-md-12><button class="btn btn-primary" ng-click=createBackup()><i class="fa fa-fw fa-plus"></i> Backup erstellen</button></div></div></div></div></div></div></div></div>'),a.put("app/editor/videos/hosts/hosts-all/hosts-all-card.html",'<div class=card-transparent><table class="table cards" ng-table=hostsTable><tr ng-repeat="host in $data"><td class=hide></td></tr><td class=container-fluid><div class=row><div ng-repeat="host in $data" class="col-xs-12 col-sm-6 col-md-4 col-lg-3"><div class=card-image><div class="card-image-header card-image-header-xs"><div class=image><a ui-sref="editor.videos.hosts.one({hostId: host.id})"><img class="image-badge image-badge-lg" img-src={{host.image}} img-fallback={{imagePlaceholders.host}} img-loading={{imagePlaceholders.host}}></a></div><div class=title><a ui-sref="editor.videos.hosts.one({hostId: host.id})">{{host.firstname}} {{host.lastname}}</a></div><div class=subtitle ng-if=host.nickname>{{host.nickname}}</div><div class=links><a class=icon-link ng-href={{link}} target=_blank data-title={{getDomain(link)}} ng-repeat="link in host.links" bs-tooltip><i class=fa-lg ng-class=getDomainIcon(link)></i></a></div></div><div class="card-image-footer text-right"><a ui-sref="editor.videos.hosts.one({hostId: host.id})"><i class="fa fa-lg fa-chevron-right"></i></a></div></div></div></div></td></table></div>'),a.put("app/editor/videos/hosts/hosts-all/hosts-all-list.html",'<div class=card-content><div class=card-content-body><div class=table-container><table class="table table-hover list" ng-table=hostsTable><tr class="middle link" ui-sref="editor.videos.hosts.one({hostId: host.id})" ng-repeat="host in $data"><td width=1><img img-src={{host.image}} img-fallback={{imagePlaceholders.host}} img-loading={{imagePlaceholders.host}}></td><td width=150 title="\'Vorname\'" data-sortable="\'firstname\'">{{host.firstname}}</td><td width=150 title="\'Nachname\'" data-sortable="\'lastname\'">{{host.lastname}}</td><td width=150 title="\'Spitzname\'" data-sortable="\'nickname\'">{{host.nickname}}</td><td title="\'Links\'"><a class=icon-link ng-href={{link}} target=_blank data-title={{getDomain(link)}} ng-click=$event.stopPropagation() ng-repeat="link in host.links" bs-tooltip><i class=fa-lg ng-class=getDomainIcon(link)></i></a></td></tr></table></div></div></div>'),a.put("app/editor/videos/hosts/hosts-all/hosts-all.html",'<div class="container-fluid animate-main-content" init><div table-view-data=hosts table-view-options=hostsOptions table-view=hostsTable><title>Moderatoren</title><div id=list name=Liste icon=fa-th-list template=app/editor/videos/hosts/hosts-all/hosts-all-list.html></div><div id=card name=Kacheln icon=fa-th-large template=app/editor/videos/hosts/hosts-all/hosts-all-card.html></div></div><div class=row><div class=col-md-12><div class="card-transparent text-right"><button class="btn btn-default" type=button ng-click=add()><i class="fa fa-plus"></i> Hinzufügen</button></div></div></div><div class=row><div class=col-md-12><div class=card-content><div class=card-content-header>Code Ausführen</div><div class=card-content-body><div><code>_.each(hosts, function(host) {<textarea class=form-control rows=10 ng-model=exec.code></textarea>});</code></div><div><button class="btn btn-default" type=button ng-click=run(exec)><i class="fa fa-exclamation"></i> Ausführen</button></div></div></div></div></div></div>'),a.put("app/editor/videos/hosts/hosts-one/hosts-one.html",'<div class="container-fluid animate-main-content" init><div class=row><div class="col-md-12 text-right"><div class=card-content><div class=card-content-header><button class="btn btn-default btn-circle" type=button data-title="Schema Validierung" ng-class="valid ? \'btn-success\': \'btn-danger\'" bs-tooltip><i class="fa fa-fw" ng-class="valid ? \'fa-check\': \'fa-times\'"></i></button> <button class="btn btn-danger" type=button ng-click=delete(host)><i class="fa fa-trash"></i> Löschen</button></div></div></div></div><div class=row><div class=col-md-6><div class=card-content><div class=card-content-header>Moderator</div><div class=card-content-body form><div name="\'Primärschlüssel\'" key="\'id\'" form-element><div class=input-group ng-init="lockedId=true"><input type=text class=form-control ng-model=host.id ng-disabled=lockedId> <span class=input-group-btn><button class="btn btn-default" type=button ng-click="lockedId=!lockedId"><i class="fa fa-fw" ng-class="{\'fa-lock\': lockedId, \'fa-unlock-alt\': !lockedId}"></i></button></span></div></div><div name="\'Vorname\'" key="\'firstname\'" form-element><input type=text class=form-control ng-model=host.firstname></div><div name="\'Nachname\'" key="\'lastname\'" form-element><input type=text class=form-control ng-model=host.lastname></div><div name="\'Spitzname\'" key="\'nickname\'" form-element><input type=text class=form-control ng-model=host.nickname></div><div name="\'Beschreibung\'" key="\'description\'" form-element><textarea type=text rows=5 class=form-control ng-model=host.description></textarea></div><div name="\'Links\'" key="\'links\'" form-element><div class=vertical-list><div class=input-group ng-repeat="link in host.links track by $index"><input type=text class=form-control ng-model=host.links[$index]> <span class=input-group-btn><button class="btn btn-default" type=button ng-click="host.links.splice($index, 1)"><i class="fa fa-fw fa-times"></i></button></span></div><button class="btn btn-default" type=button ng-click="host.links.push(\'\')"><i class="fa fa-fw fa-plus"></i></button></div></div><div name="\'Bild\'" key="\'image\'" form-element><div download=host.id img-input=host.image></div></div></div></div></div><div class=col-md-6><div json-editor=host></div></div></div><div videos-view-mode="\'edit\'" videos-view-data=videos videos-view-options=videosOptions videos-view=videosTable></div></div>'),a.put("app/editor/videos/hosts/hosts.html","<div><div ui-view></div></div>"),a.put("app/editor/videos/series/series-all/series-all-card.html",'<div class=card-transparent><table class="table cards" ng-table=seriesTable><tr ng-repeat="series in $data"><td class=hide></td></tr><td class=container-fluid><div class=row><div ng-repeat="series in $data" class="col-xs-12 col-sm-6 col-md-4 col-lg-3"><div class=card-image><div class="card-image-header card-image-header-xs"><div class=image><a ui-sref="editor.videos.series.one({seriesId: series.id})"><img class="image-badge image-badge-lg" img-src={{series.image}} img-fallback={{imagePlaceholders.series}} img-loading={{imagePlaceholders.series}}></a></div><div class=scroll-container swipe-propagation=false perfect-scrollbar><div class=title><a ui-sref="editor.videos.series.one({seriesId: series.id})">{{series.name || \'(Kein Name)\'}}</a></div><div class=content ng-bind-html=series.description></div></div></div><div class="card-image-footer text-right"><a ui-sref="editor.videos.series.one({seriesId: series.id})"><i class="fa fa-lg fa-chevron-right"></i></a></div></div></div></div></td></table></div>'),a.put("app/editor/videos/series/series-all/series-all-list.html",'<div class=card-content><div class=card-content-body><div class=table-container><table class="table table-hover list" ng-table=seriesTable><tr class="middle link" ui-sref="editor.videos.series.one({seriesId: series.id})" ng-repeat="series in $data"><td width=1><img img-src={{series.image}} img-fallback={{imagePlaceholders.series}} img-loading={{imagePlaceholders.series}}></td><td width=200 title="\'Name\'" data-sortable="\'name\'">{{series.name}}</td><td title="\'Beschreibung\'" data-sortable="\'description\'"><div class=limit-height ng-bind-html=series.description></div></td></tr></table></div></div></div>'),a.put("app/editor/videos/series/series-all/series-all.html",'<div class="container-fluid animate-main-content" init><div table-view-data=series table-view-options=seriesOptions table-view=seriesTable><title>Serien</title><div id=list name=Liste icon=fa-th-list template=app/editor/videos/series/series-all/series-all-list.html></div><div id=card name=Kacheln icon=fa-th-large template=app/editor/videos/series/series-all/series-all-card.html></div></div><div class=row><div class=col-md-12><div class="card-transparent text-right"><button class="btn btn-default" type=button ng-click=add()><i class="fa fa-plus"></i> Hinzufügen</button></div></div></div><div class=row><div class=col-md-12><div class=card-content><div class=card-content-header>Code Ausführen</div><div class=card-content-body><div><code>_.each(series, function(series) {<textarea class=form-control rows=10 ng-model=exec.code></textarea>});</code></div><div><button class="btn btn-default" type=button ng-click=run(exec)><i class="fa fa-exclamation"></i> Ausführen</button></div></div></div></div></div></div>'),a.put("app/editor/videos/series/series-one/series-one.html",'<div class="container-fluid animate-main-content" init><div class=row><div class="col-md-12 text-right"><div class=card-content><div class=card-content-header><button class="btn btn-default btn-circle" type=button data-title="Schema Validierung" ng-class="valid ? \'btn-success\': \'btn-danger\'" bs-tooltip><i class="fa fa-fw" ng-class="valid ? \'fa-check\': \'fa-times\'"></i></button> <button class="btn btn-danger" type=button ng-click=delete(series)><i class="fa fa-trash"></i> Löschen</button></div></div></div></div><div class=row><div class=col-md-6><div class=card-content><div class=card-content-header>Serie</div><div class=card-content-body form><div name="\'Primärschlüssel\'" key="\'id\'" form-element><div class=input-group ng-init="lockedId=true"><input type=text class=form-control ng-model=series.id ng-disabled=lockedId> <span class=input-group-btn><button class="btn btn-default" type=button ng-click="lockedId=!lockedId"><i class="fa fa-fw" ng-class="{\'fa-lock\': lockedId, \'fa-unlock-alt\': !lockedId}"></i></button></span></div></div><div name="\'Name\'" key="\'name\'" form-element><div class=input-group><input type=text class=form-control ng-model=series.name> <span class=input-group-btn><button class="btn btn-default" type=button ng-click="fetchGameMetadata(series, series.name)"><i class="fa fa-fw fa-gamepad"></i></button></span></div></div><div ng-if=gameMetadataOptions form-element><div ng-repeat="metadata in gameMetadataOptions"><a href=javascript:void(0); ng-click="setGameMetadata(series, metadata)">{{metadata.name}}</a></div></div><div name="\'Format\'" key="\'show\'" form-element><ui-select class=ui-select-lg ng-model=series.show><ui-select-match placeholder=Kanäle..><img class="image-badge image-badge-md" img-src={{$select.selected.image}} img-fallback={{imagePlaceholders.show}} img-loading={{imagePlaceholders.show}} ng-if=$select.selected.image> <span ng-bind=$select.selected.name></span></ui-select-match><ui-select-choices repeat="show.id as show in (shows | filter: $select.search | orderBy)"><img class="image-badge image-badge-md" img-src={{show.image}} img-fallback={{imagePlaceholders.show}} img-loading={{imagePlaceholders.show}}> <span ng-bind=show.name></span></ui-select-choices></ui-select></div><div name="\'Beschreibung\'" key="\'description\'" form-element><textarea type=text rows=5 class=form-control ng-model=series.description></textarea></div><div name="\'Links\'" key="\'links\'" form-element><div class=vertical-list><div class=input-group ng-repeat="link in series.links track by $index"><input type=text class=form-control ng-model=series.links[$index]> <span class=input-group-btn><button class="btn btn-default" type=button ng-click="series.links.splice($index, 1)"><i class="fa fa-fw fa-times"></i></button></span></div><button class="btn btn-default" type=button ng-click="series.links.push(\'\')"><i class="fa fa-fw fa-plus"></i></button></div></div><div name="\'Bild\'" key="\'image\'" form-element><div download=series.id img-input=series.image></div></div></div></div></div><div class=col-md-6><div json-editor=series></div></div></div><div videos-view-mode="\'edit\'" videos-view-data=videos videos-view-options=videosOptions videos-view=videosTable></div></div>'),a.put("app/editor/videos/series/series.html","<div><div ui-view></div></div>"),
a.put("app/editor/videos/shows/shows-all/shows-all-card.html",'<div class=card-transparent><table class="table cards" ng-table=showsTable><tr ng-repeat="show in $data"><td class=hide></td></tr><td class=container-fluid><div class=row><div ng-repeat="show in $data" class="col-xs-12 col-sm-6 col-md-4 col-lg-3"><div class=card-image><div class="card-image-header card-image-header-xs"><div class=image><a ui-sref="editor.videos.shows.one({showId: show.id})"><img class="image-badge image-badge-lg" img-src={{show.image}} img-fallback={{imagePlaceholders.show}} img-loading={{imagePlaceholders.show}}></a></div><div class=scroll-container swipe-propagation=false perfect-scrollbar><div class=title><a ui-sref="editor.videos.shows.one({showId: show.id})">{{show.name || \'(Kein Name)\'}}</a></div><div class=content ng-bind-html=show.description></div></div></div><div class="card-image-footer text-right"><a ui-sref="editor.videos.shows.one({showId: show.id})"><i class="fa fa-lg fa-chevron-right"></i></a></div></div></div></div></td></table></div>'),a.put("app/editor/videos/shows/shows-all/shows-all-list.html",'<div class=card-content><div class=card-content-body><div class=table-container><table class="table table-hover list" ng-table=showsTable><tr class="middle link" ui-sref="editor.videos.shows.one({showId: show.id})" ng-repeat="show in $data"><td width=1><img img-src={{show.image}} img-fallback={{imagePlaceholders.show}} img-loading={{imagePlaceholders.show}}></td><td width=200 title="\'Name\'" data-sortable="\'name\'">{{show.name}}</td><td title="\'Beschreibung\'" data-sortable="\'description\'"><div class=limit-height ng-bind-html=show.description></div></td></tr></table></div></div></div>'),a.put("app/editor/videos/shows/shows-all/shows-all.html",'<div class="container-fluid animate-main-content" init><div table-view-data=shows table-view-options=showsOptions table-view=showsTable><title>Formate</title><div id=list name=Liste icon=fa-th-list template=app/editor/videos/shows/shows-all/shows-all-list.html></div><div id=card name=Kacheln icon=fa-th-large template=app/editor/videos/shows/shows-all/shows-all-card.html></div></div><div class=row><div class=col-md-12><div class="card-transparent text-right"><button class="btn btn-default" type=button ng-click=add()><i class="fa fa-plus"></i> Hinzufügen</button></div></div></div><div class=row><div class=col-md-12><div class=card-content><div class=card-content-header>Code Ausführen</div><div class=card-content-body><div><code>_.each(shows, function(show) {<textarea class=form-control rows=10 ng-model=exec.code></textarea>});</code></div><div><button class="btn btn-default" type=button ng-click=run(exec)><i class="fa fa-exclamation"></i> Ausführen</button></div></div></div></div></div></div>'),a.put("app/editor/videos/shows/shows-one/shows-one.html",'<div class="container-fluid animate-main-content" init><div class=row><div class="col-md-12 text-right"><div class=card-content><div class=card-content-header><button class="btn btn-default btn-circle" type=button data-title="Schema Validierung" ng-class="valid ? \'btn-success\': \'btn-danger\'" bs-tooltip><i class="fa fa-fw" ng-class="valid ? \'fa-check\': \'fa-times\'"></i></button> <button class="btn btn-danger" type=button ng-click=delete(show)><i class="fa fa-trash"></i> Löschen</button></div></div></div></div><div class=row><div class=col-md-6><div class=card-content><div class=card-content-header>Format</div><div class=card-content-body form><div name="\'Primärschlüssel\'" key="\'id\'" form-element><div class=input-group ng-init="lockedId=true"><input class=form-control ng-model=show.id ng-disabled=lockedId> <span class=input-group-btn><button class="btn btn-default" type=button ng-click="lockedId=!lockedId"><i class="fa fa-fw" ng-class="{\'fa-lock\': lockedId, \'fa-unlock-alt\': !lockedId}"></i></button></span></div></div><div name="\'Name\'" key="\'name\'" form-element><input type=text class=form-control ng-model=show.name></div><div name="\'Beschreibung\'" key="\'description\'" form-element><textarea type=text rows=5 class=form-control ng-model=show.description></textarea></div><div name="\'Event\'" key="\'event\'" form-element><div class="checkbox checkbox-primary"><input type=checkbox value=asc ng-model=show.event><label for=event></label></div></div><div name="\'Links\'" key="\'links\'" form-element><div class=vertical-list><div class=input-group ng-repeat="link in show.links track by $index"><input type=text class=form-control ng-model=show.links[$index]> <span class=input-group-btn><button class="btn btn-default" type=button ng-click="show.links.splice($index, 1)"><i class="fa fa-fw fa-times"></i></button></span></div><button class="btn btn-default" type=button ng-click="show.links.push(\'\')"><i class="fa fa-fw fa-plus"></i></button></div></div><div name="\'Bild\'" key="\'image\'" form-element><div download=show.id img-input=show.image></div></div></div></div></div><div class=col-md-6><div json-editor=show></div></div></div><div videos-view-mode="\'edit\'" videos-view-data=videos videos-view-options=videosOptions videos-view=videosTable></div></div>'),a.put("app/editor/videos/shows/shows.html","<div><div ui-view></div></div>"),a.put("app/editor/videos/videos/videos-all/videos-all.html",'<div class="container-fluid animate-main-content" init><div class=row><div class=col-md-12><div class=card-content><div class=card-content-header>Video Daten</div><div class=card-content-body cols=8 form><div name="\'Video Liste Abrufen\'" form-element><div class=inline-wrap><button class="btn btn-default" type=button ng-click=updateVideosAll()><i class="fa fa-refresh"></i> Alle Videos</button> <button class="btn btn-default" type=button ng-click=updateVideosNew()><i class="fa fa-refresh"></i> Neue Videos</button><div class=btn-group data-title="{{updateUntil * 1000 | amDateFormat:\'l\' }}" bs-tooltip><button class="btn btn-default" type=button ng-click=updateVideosAllUntil(updateUntil)><i class="fa fa-refresh"></i> Alle Videos bis...</button> <button type=button class="btn btn-default" ng-model=updateUntil bs-datepicker><i class="fa fa-calendar"></i></button></div></div><span class=help-block>Aktualisieren der Video Liste für alle definierten <a ui-sref=editor.videos.channels.all()>Kanäle</a>. Die abgerufenen Informationen beinhaltet nur die Video ID, den Titel und das Veröffentlichungsdatum. Weitere Video Details müssen seperat abgerufen werden.</span></div><div name="\'Video Details Abrufen\'" form-element><div class=inline-wrap><button class="btn btn-default" type=button ng-click=updateVideoDetailsAll()><i class="fa fa-refresh"></i> Alle Videos</button> <button class="btn btn-default" type=button ng-click=updateVideoDetailsNew()><i class="fa fa-refresh"></i> Neue Videos</button> <button class="btn btn-default" type=button ng-click=updateVideoDetailsFiltered()><i class="fa fa-refresh"></i> Gefilterte Videos</button></div><span class=help-block>Abrufen weiterer Video Details. Diese Details beinhaltet unter anderem die Video Laufzeit, sowie Video Statistiken (Views, Likes, usw.). Um die Statistiken aller Videos im selben Zeitraum vorliegen zu haben, sollten daher immer die Video Details aller Videos abgerufen werden.</span></div></div></div></div></div><div class="row videos-update" ng-if=updateState.active><div class=col-md-12><div class=card-content><div class=card-content-body><div class=videos-update-container><div class=spinner><i class="fa fa-spinner fa-pulse fa-lg fa-fw"></i></div><div class=info ng-bind=updateState.info></div><div class=latest ng-bind=updateState.latest.title></div></div></div></div></div></div><div videos-view-mode="\'edit\'" videos-view-data=videos videos-view-options=videosOptions videos-view=videosTable ng-if=!updateState.active></div><div class=row><div class=col-md-12><div class=card-content><div class=card-content-header>Code Ausführen</div><div class=card-content-body><div><code>_.each(videos, function(video) {<textarea class=form-control rows=10 ng-model=exec.code></textarea>});</code></div><div><button class="btn btn-default" type=button ng-click=run(exec)><i class="fa fa-exclamation"></i> Ausführen</button></div></div></div></div></div></div>'),a.put("app/editor/videos/videos/videos-one/videos-one.html",'<div class="container-fluid animate-main-content" init><div class=row><div class=col-md-12><div class=card-content><div class="card-content-body youtube-embed"><youtube-video video-id=video.id style="max-width: 100%"></youtube-video></div></div></div></div><div class=row><div class="col-md-12 text-right"><div class=card-content><div class=card-content-header><button class="btn btn-default btn-circle" type=button data-title="Schema Validierung" ng-class="valid ? \'btn-success\': \'btn-danger\'" bs-tooltip><i class="fa fa-fw" ng-class="valid ? \'fa-check\': \'fa-times\'"></i></button> <button class="btn btn-default" type=button ng-click=extractAll(video)><i class="fa fa-magic"></i></button> <button class="btn btn-default" type=button ng-click=updateDetails(video)><i class="fa fa-refresh"></i></button> <button class="btn btn-danger" type=button ng-click=delete(video)><i class="fa fa-trash"></i> Löschen</button></div></div></div></div><div class=row><div class=col-md-6><div class=card-content><div class=card-content-header>Video</div><div class=card-content-body form><div class=form-horizontal><div name="\'Primärschlüssel\'" key="\'id\'" form-element><div class=input-group ng-init="lockedId=true"><input type=text class=form-control ng-model=video.id ng-disabled=lockedId> <span class=input-group-btn><button class="btn btn-default" type=button ng-click="lockedId=!lockedId"><i class="fa fa-fw" ng-class="{\'fa-lock\': lockedId, \'fa-unlock-alt\': !lockedId}"></i></button></span></div></div><div name="\'Titel\'" key="\'title\'" form-element><input type=text class=form-control ng-model=video.title></div><div name="\'Veröffentlichung\'" key="\'published\'" form-element><input type=number class=form-control ng-model=video.published></div><div name="\'Ausstrahlung\'" key="\'aired\'" form-element><input type=number class=form-control ng-model=video.aired></div><div name="\'Laufzeit\'" key="\'duration\'" form-element><input type=number class=form-control ng-model=video.duration></div><div name="\'Kanal\'" key="\'channel\'" form-element><ui-select class=ui-select-lg ng-model=video.channel><ui-select-match placeholder=Kanäle..><img class="image-badge image-badge-md" img-src={{$select.selected.image}} img-fallback={{imagePlaceholders.channel}} img-loading={{imagePlaceholders.channel}} ng-if=$select.selected.image> <span ng-bind=$select.selected.title></span></ui-select-match><ui-select-choices repeat="channel.id as channel in (channels | filter: $select.search | orderBy)"><img class="image-badge image-badge-md" img-src={{channel.image}} img-fallback={{imagePlaceholders.channel}} img-loading={{imagePlaceholders.channel}}> <span ng-bind=channel.title></span></ui-select-choices></ui-select></div><div name="\'Formate\'" key="\'shows\'" form-element><div class=input-group><ui-select ng-model=show.selected skip-focusser=true on-select="addShow(video, show.selected)"><ui-select-match placeholder=Formate..><span class=text-muted>Formate..</span></ui-select-match><ui-select-choices repeat="show in (shows | filter: $select.search | orderBy)"><img class="image-badge image-badge-md" img-src={{show.image}} img-fallback={{imagePlaceholders.show}} img-loading={{imagePlaceholders.show}}> <span ng-bind=show.name></span></ui-select-choices></ui-select><div class=input-group-btn><button class="btn btn-default" type=button ng-click=extractShows(video)><i class="fa fa-magic"></i></button></div></div></div><div ng-if=video.shows.length form-element><div class=button-list><button type=button class="btn btn-default" data-title="{{show.name || show.id}}" ng-click="removeShow(video, show)" ng-repeat="show in video.shows | videosResolve:\'shows\' | orderBy" bs-tooltip><img class="image-badge image-badge-md" img-src={{show.image}} img-fallback={{imagePlaceholders.show}} img-loading={{imagePlaceholders.show}}> <span ng-bind=show.name></span></button></div></div><div name="\'Moderatoren\'" key="\'hosts\'" form-element><div class=input-group><ui-select ng-model=host.selected skip-focusser=true on-select="addHost(video, host.selected)"><ui-select-match placeholder=Moderatoren..><span class=text-muted>Moderatoren..</span></ui-select-match><ui-select-choices group-by=listGroupShows repeat="host in (hosts | filter: $select.search | orderBy)"><img class="image-badge image-badge-md" img-src={{host.image}} img-fallback={{imagePlaceholders.host}} img-loading={{imagePlaceholders.host}}> <span>{{host.firstname}} {{host.lastname}}</span> <span ng-if=host.nickname>({{host.nickname}})</span></ui-select-choices></ui-select><div class=input-group-btn><button class="btn btn-default" type=button ng-click=extractHosts(video)><i class="fa fa-magic"></i></button></div></div></div><div ng-if=video.hosts.length form-element><div class=button-list><button type=button class="btn btn-default" data-title="{{host.firstname || host.id}}" ng-click="removeHost(video, host)" ng-repeat="host in video.hosts | videosResolve:\'hosts\' | orderBy" bs-tooltip><img class="image-badge image-badge-md" img-src={{host.image}} img-fallback={{imagePlaceholders.host}} img-loading={{imagePlaceholders.host}}> <span>{{host.firstname}} {{host.lastname}}</span> <span ng-if=host.nickname>({{host.nickname}})</span></button></div></div><div name="\'Serien\'" key="\'series\'" form-element><div class=input-group><ui-select ng-model=series_.selected skip-focusser=true on-select="addSeries(video, series_.selected)"><ui-select-match placeholder=Serien..><span class=text-muted>Serien..</span></ui-select-match><ui-select-choices repeat="series in (series | filter: $select.search | orderBy)"><img class="image-badge image-badge-md" img-src={{series.image}} img-fallback={{imagePlaceholders.series}} img-loading={{imagePlaceholders.series}}> <span ng-bind=series.name></span></ui-select-choices></ui-select><div class=input-group-btn><button class="btn btn-default" type=button ng-click=extractSeries(video)><i class="fa fa-magic"></i></button></div></div></div><div ng-if=video.series.length form-element><div class=button-list><button type=button class="btn btn-default" data-title="{{series.name || series.id}}" ng-click="removeSeries(video, series)" ng-repeat="series in video.series | videosResolve:\'series\' | orderBy" bs-tooltip><img class="image-badge image-badge-md" img-src={{series.image}} img-fallback={{imagePlaceholders.series}} img-loading={{imagePlaceholders.series}}> <span ng-bind=series.name></span></button></div></div><div name="\'Kommentare\'" key="\'commentCount\'" form-element><input type=number class=form-control ng-model=video.stats.commentCount></div><div name="\'Views\'" key="\'viewCount\'" form-element><input type=number class=form-control ng-model=video.stats.viewCount></div><div name="\'Negative Bewertungen\'" key="\'dislikeCount\'" form-element><input type=number class=form-control ng-model=video.stats.dislikeCount></div><div name="\'Positive Bewertungen\'" key="\'likeCount\'" form-element><input type=number class=form-control ng-model=video.stats.likeCount></div><div name="\'Online\'" key="\'online\'" form-element><div class="checkbox checkbox-primary"><input type=checkbox ng-model=video.online><label for=online></label></div></div></div></div></div></div><div class=col-md-6><div json-editor=video></div></div></div></div>'),a.put("app/editor/videos/videos/videos.html","<div><div ui-view></div></div>"),a.put("app/viewer/app.viewer.html","<div><div ng-include=\"'app/viewer/navigation/navigation.html'\"></div><div init><div class=main ui-view></div></div><div ng-include=\"'app/viewer/footer/footer.html'\"></div></div>"),a.put("app/viewer/footer/footer.html",'<div class=footer ng-controller=FooterCtrl><div class=container-fluid><table><tr><td><a href={{link.url}} target=_blank ng-repeat="link in rbtvLinks"><i class="fa fa-lg {{link.icon}}"></i>{{link.title}}</a></td><td class=text-right><a href={{link.url}} target=_blank ng-repeat="link in ownLinks"><i class="fa fa-lg {{link.icon}}"></i>{{link.title}}</a></td></tr></table></div></div>'),a.put("app/viewer/live/live.html","<div class=\"container-fluid animate-main-content\" init><div class=row><div class=col-lg-12><div options=chart.options update=chart.update chart></div></div></div><div class=row ng-if=liveStats><div class=col-md-12><div class=card-content><div class=card-content-header>Statistiken</div><div class=\"card-content-body form-stats\" form><div name=\"'Anzahl Datenpunkte'\" form-element>{{liveStats.count | number}} Datenpunkte</div><div name=\"'Ältester Datenpunkt'\" form-element><div>{{liveStats.start.time * 1000 | amDateFormat:'LLLL'}}</div><div>{{liveStats.start.viewers | number}} Zuschauer</div></div><div name=\"'Neuster Datenpunkt'\" form-element><div>{{liveStats.end.time * 1000 | amDateFormat:'LLLL'}}</div><div>{{liveStats.end.viewers | number}} Zuschauer</div></div><div name=\"'Minimum'\" form-element><div>{{liveStats.min.time * 1000 | amDateFormat:'LLLL'}}</div><div>{{liveStats.min.viewers | number}} Zuschauer</div></div><div name=\"'Maximum'\" form-element><div>{{liveStats.max.time * 1000 | amDateFormat:'LLLL'}}</div><div>{{liveStats.max.viewers | number}} Zuschauer</div></div><div name=\"'Durchschnitt'\" form-element>{{liveStats.mean | number}} Zuschauer</div><div name=\"'Quartil 25%'\" form-element>{{liveStats.q1 | number}} Zuschauer</div><div name=\"'Quartil 50% (Median)'\" form-element>{{liveStats.q2 | number}} Zuschauer</div><div name=\"'Quartil 75%'\" form-element>{{liveStats.q3 | number}} Zuschauer</div></div></div></div></div></div>"),a.put("app/viewer/navigation/navigation.html",'<nav class="navbar navbar-inverse navbar-custom" role=navigation ng-controller=NavigationCtrl data-start-collapsed=true bs-navbar bs-collapse><div class=container-fluid><div class=navbar-header><button type=button class="navbar-toggle collapsed" bs-collapse-toggle><span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a class=navbar-brand href="#/"><span class="fa fa-bar-chart"></span> RBTV Statistiken</a></div><div class="collapse navbar-collapse" bs-collapse-target><ul class="nav navbar-nav"><li class=dropdown data-match-route=/videos/*><a href=# bs-dropdown>Videos <span class=caret></span></a><ul class=dropdown-menu role=menu><li data-match-route="/videos/channels/"><a ng-href="#/videos/channels/">Kanäle</a></li><li data-match-route="/videos/shows/"><a ng-href="#/videos/shows/">Formate</a></li><li data-match-route="/videos/hosts/"><a ng-href="#/videos/hosts/">Moderatoren</a></li><li data-match-route="/videos/"><a ng-href="#/videos/">Alle Videos</a></li></ul></li><li data-match-route="/live/"><a ng-href="#/live/">Live</a></li></ul><ul class="nav navbar-nav navbar-right"><li class="dropdown info"><a href=# placement=bottom-right bs-dropdown><i class=fa ng-class="initialized ? \'fa-circle\' : \'fa-circle-o\'"></i></a><ul class=dropdown-menu role=menu ng-click=$event.stopPropagation()><li ng-repeat="data in metadata"><div>{{data.name}}</div><div ng-if=data.loading><span class="c-icon c-icon-circle-notch c-icon-spin c-icon-inverse"></span></div><div ng-if=!data.loading>{{data.update * 1000 | amDateFormat:\'l LT\'}}</div><div class=error ng-if=data.error>Fehler beim Abrufen der Metadaten!</div></li><li ng-if=!metadata.length><div class=no-data>Keine Daten verfügbar</div></li></ul></li></ul></div></div></nav>'),a.put("app/viewer/videos/channels/channels-all/channels-all-card.html",'<div class=card-transparent><table class="table cards" ng-table=channelsTable><tr ng-repeat="channel in $data"><td class=hide></td></tr><td class=container-fluid><div class=row><div ng-repeat="channel in $data" class="col-xs-12 col-sm-6 col-md-4 col-lg-3"><div class=card-image><div class="card-image-header card-image-header-xs"><div class=image><a ui-sref="viewer.videos.channels.one({channelId: channel.id})"><img class="image-badge image-badge-lg" img-src={{channel.image}} img-fallback={{imagePlaceholders.channel}} img-loading={{imagePlaceholders.channel}}></a></div><div class=scroll-container swipe-propagation=false perfect-scrollbar><div class=title><a ui-sref="viewer.videos.channels.one({channelId: channel.id})">{{channel.title || \'(Kein Titel)\'}}</a></div><div class=content ng-bind-html=channel.description></div></div></div><div class="card-image-footer text-right"><a ui-sref="viewer.videos.channels.one({channelId: channel.id})"><i class="fa fa-lg fa-chevron-right"></i></a></div></div></div></div></td></table></div>'),a.put("app/viewer/videos/channels/channels-all/channels-all-list.html",'<div class=card-content><div class=card-content-body><div class=table-container><table class="table table-hover list" ng-table=channelsTable><tr class="middle link" ui-sref="viewer.videos.channels.one({channelId: channel.id})" ng-repeat="channel in $data"><td width=1><img img-src={{channel.image}} img-fallback={{imagePlaceholders.channel}} img-loading={{imagePlaceholders.channel}}></td><td width=300 title="\'Titel\'" data-sortable="\'title\'">{{channel.title}}</td><td title="\'Beschreibung\'" data-sortable="\'description\'"><div class=limit-height ng-bind-html=channel.description></div></td></tr></table></div></div></div>'),a.put("app/viewer/videos/channels/channels-all/channels-all.html",'<div class="container-fluid animate-main-content" init><div table-view-data=channels table-view-options=channelsOptions table-view=channelsTable><title>Kanäle</title><div id=list name=Liste icon=fa-th-list template=app/viewer/videos/channels/channels-all/channels-all-list.html></div><div id=card name=Kacheln icon=fa-th-large template=app/viewer/videos/channels/channels-all/channels-all-card.html></div></div><div class=row ng-repeat="chart in charts"><div class=col-lg-12><div options=chart.options update=chart.update chart></div></div></div></div>'),a.put("app/viewer/videos/channels/channels-one/channels-one.html",'<div class="container-fluid animate-main-content" init><div class=row><div class=col-md-6><div class=card-content><div class="card-content-body overview-one"><a ui-sref="viewer.videos.channels.one({channelId: channel.id})"><img class="image-badge image-badge-lg" img-src={{channel.image}} img-fallback={{imagePlaceholders.channel}} img-loading={{imagePlaceholders.channel}}></a><div class=title><a ui-sref="viewer.videos.channels.one({channelId: channel.id})">{{channel.title}}</a></div><div class=content ng-bind-html=channel.description></div><div class=links><a ng-href=https://www.youtube.com/channel/{{channel.channelId}} target=_blank><i class="fa fa-youtube-play"></i>youtube.com</a></div><div class=report><a href=javascript:void(0); report=channels report-id={{channel.id}}><i class="fa fa-flag"></i></a></div></div></div></div></div><div class=row><div class=col-md-12><div class=card-content><div class=card-content-header>Statistiken</div><div class="card-content-body form-stats" form><div name="\'Gesamte Video Anzahl\'" form-element>{{stats.videosCountTotal | number}} Videos</div><div name="\'Durchschnittliche Video Anzahl\'" form-element>{{stats.videosCountMean | number}} Videos pro Tag</div><div name="\'Gesamte Video Laufzeit\'" form-element>{{stats.videosDurationTotal | duration}}</div><div name="\'Durchschnittliche Video Laufzeit\'" form-element>{{stats.videosDurationMean | duration}}</div><div name="\'Gesamte Video Aufrufe\'" form-element>{{stats.videosViewsTotal | number}} Aufrufe</div><div name="\'Durchschnittliche Video Aufrufe\'" form-element>{{stats.videosViewsMean | number}} Aufrufe pro Video</div></div></div></div></div><div class=row ng-repeat="chart in charts"><div class=col-lg-12><div options=chart.options update=chart.update chart></div></div></div><div videos-view-mode="\'view\'" videos-view-data=videos videos-view-options=videosOptions videos-view=videosTable></div></div>'),a.put("app/viewer/videos/channels/channels.html","<div><div ui-view></div></div>"),a.put("app/viewer/videos/hosts/hosts-all/hosts-all-card.html",'<div class=card-transparent><table class="table cards" ng-table=hostsTable><tr ng-repeat="host in $data"><td class=hide></td></tr><td class=container-fluid><div class=row><div ng-repeat="host in $data" class="col-xs-12 col-sm-6 col-md-4 col-lg-3"><div class=card-image><div class="card-image-header card-image-header-xs"><div class=image><a ui-sref="viewer.videos.hosts.one({hostId: host.id})"><img class="image-badge image-badge-lg" img-src={{host.image}} img-fallback={{imagePlaceholders.host}} img-loading={{imagePlaceholders.host}}></a></div><div class=title><a ui-sref="viewer.videos.hosts.one({hostId: host.id})">{{host.firstname}} {{host.lastname}}</a></div><div class=subtitle ng-if=host.nickname>{{host.nickname}}</div><div class=links><a class=icon-link ng-href={{link}} target=_blank data-title={{getDomain(link)}} ng-repeat="link in host.links" bs-tooltip><i class=fa-lg ng-class=getDomainIcon(link)></i></a></div></div><div class="card-image-footer text-right"><a ui-sref="viewer.videos.hosts.one({hostId: host.id})"><i class="fa fa-lg fa-chevron-right"></i></a></div></div></div></div></td></table></div>'),a.put("app/viewer/videos/hosts/hosts-all/hosts-all-list.html",'<div class=card-content><div class=card-content-body><div class=table-container><table class="table table-hover list" ng-table=hostsTable><tr class="middle link" ui-sref="viewer.videos.hosts.one({hostId: host.id})" ng-repeat="host in $data"><td width=1><img img-src={{host.image}} img-fallback={{imagePlaceholders.host}} img-loading={{imagePlaceholders.host}}></td><td width=150 title="\'Vorname\'" data-sortable="\'firstname\'">{{host.firstname}}</td><td width=150 title="\'Nachname\'" data-sortable="\'lastname\'">{{host.lastname}}</td><td width=150 title="\'Spitzname\'" data-sortable="\'nickname\'">{{host.nickname}}</td><td title="\'Links\'"><a class=icon-link ng-href={{link}} target=_blank data-title={{getDomain(link)}} ng-click=$event.stopPropagation() ng-click=$event.stopPropagation() ng-repeat="link in host.links" bs-tooltip><i class=fa-lg ng-class=getDomainIcon(link)></i></a></td></tr></table></div></div></div>'),a.put("app/viewer/videos/hosts/hosts-all/hosts-all.html",'<div class="container-fluid animate-main-content" init><div table-view-data=hosts table-view-options=hostsOptions table-view=hostsTable><title>Moderatoren</title><div id=list name=Liste icon=fa-th-list template=app/viewer/videos/hosts/hosts-all/hosts-all-list.html></div><div id=card name=Kacheln icon=fa-th-large template=app/viewer/videos/hosts/hosts-all/hosts-all-card.html></div></div></div>'),a.put("app/viewer/videos/hosts/hosts-one/hosts-one.html",'<div class="container-fluid animate-main-content" init><div class=row><div class=col-md-6><div class=card-content><div class="card-content-body overview-one"><a ui-sref="viewer.videos.hosts.one({hostId: host.id})"><img class="image-badge image-badge-lg" img-src={{host.image}} img-fallback={{imagePlaceholders.host}} img-loading={{imagePlaceholders.host}}></a><div class=title><a ui-sref="viewer.videos.hosts.one({hostId: host.id})">{{host.firstname}} {{host.lastname}}</a></div><div class=subtitle ng-if=host.nickname>{{host.nickname}}</div><div class=content ng-if=host.description ng-bind-html=host.description></div><div class=links ng-if="host.links.length > 0"><div ng-repeat="link in host.links"><a ng-href={{link}} target=_blank><i class=fa-lg ng-class=getDomainIcon(link)></i>{{getDomain(link)}}</a></div></div><div class=report><a href=javascript:void(0); report=hosts report-id={{host.id}}><i class="fa fa-flag"></i></a></div></div></div></div></div><div class=row><div class=col-md-12><div class=card-content><div class=card-content-header>Statistiken</div><div class="card-content-body form-stats" form><div name="\'Gesamte Video Anzahl\'" form-element>{{stats.videosCountTotal | number}} Videos</div><div name="\'Durchschnittliche Video Anzahl\'" form-element>{{stats.videosCountMean | number}} Videos pro Tag</div><div name="\'Gesamte Video Laufzeit\'" form-element>{{stats.videosDurationTotal | duration}}</div><div name="\'Durchschnittliche Video Laufzeit\'" form-element>{{stats.videosDurationMean | duration}}</div><div name="\'Gesamte Video Aufrufe\'" form-element>{{stats.videosViewsTotal | number}} Aufrufe</div><div name="\'Durchschnittliche Video Aufrufe\'" form-element>{{stats.videosViewsMean | number}} Aufrufe pro Video</div><div name="\'Video Anzahl ohne Co-Moderatoren\'" form-element>{{stats.videosCohostsNone | number}} Videos</div><div name="\'Video Anzahl nach Co-Moderatoren\'" form-element><div class=table-container><table class="table table-hover list" ng-table=stats.videosCohostsTable><tr class="middle link" ui-sref="viewer.videos.hosts.one({hostId: data.host.id})" ng-repeat="data in $data"><td width=130 title="\'Video Anzahl\'" data-sortable="\'count\'">{{data.count | number}}</td><td title="\'Vorname\'" data-sortable="\'host.firstname\'">{{data.host.firstname}}</td><td title="\'Nachname\'" data-sortable="\'host.lastname\'">{{data.host.lastname}}</td><td title="\'Spitzname\'" data-sortable="\'host.nickname\'">{{data.host.nickname}}</td></tr></table></div><div align="\'right\'" table-pagination=stats.videosCohostsTable></div></div><div name="\'Video Anzahl nach Formaten\'" form-element><div class=table-container><table class="table table-hover list" ng-table=stats.videosShowsTable><tr class="middle link" ui-sref="viewer.videos.shows.one({showId: data.show.id})" ng-repeat="data in $data"><td width=130 title="\'Video Anzahl\'" data-sortable="\'count\'">{{data.count | number}}</td><td title="\'Name\'" data-sortable="\'show.name\'">{{data.show.name}}</td></tr></table></div><div align="\'right\'" table-pagination=stats.videosShowsTable></div></div></div></div></div></div><div class=row ng-repeat="chart in charts"><div class=col-lg-12><div options=chart.options update=chart.update chart></div></div></div><div videos-view-mode="\'view\'" videos-view-data=videos videos-view-options=videosOptions videos-view=videosTable></div></div>'),a.put("app/viewer/videos/hosts/hosts.html","<div><div ui-view></div></div>"),a.put("app/viewer/videos/shows/shows-all/shows-all-card.html",'<div class=card-transparent><table class="table cards" ng-table=showsTable><tr ng-repeat="show in $data"><td class=hide></td></tr><td class=container-fluid><div class=row><div ng-repeat="show in $data" class="col-xs-12 col-sm-6 col-md-4 col-lg-3"><div class=card-image><div class="card-image-header card-image-header-xs"><div class=image><a ui-sref="viewer.videos.shows.one({showId: show.id})"><img class="image-badge image-badge-lg" img-src={{show.image}} img-fallback={{imagePlaceholders.show}} img-loading={{imagePlaceholders.show}}></a></div><div class=scroll-container swipe-propagation=false perfect-scrollbar><div class=title><a ui-sref="viewer.videos.shows.one({showId: show.id})">{{show.name || \'(Kein Name)\'}}</a></div><div class=content ng-bind-html=show.description></div></div></div><div class="card-image-footer text-right"><a ui-sref="viewer.videos.shows.one({showId: show.id})"><i class="fa fa-lg fa-chevron-right"></i></a></div></div></div></div></td></table></div>'),a.put("app/viewer/videos/shows/shows-all/shows-all-list.html",'<div class=card-content><div class=card-content-body><div class=table-container><table class="table table-hover list" ng-table=showsTable><tr class="middle link" ui-sref="viewer.videos.shows.one({showId: show.id})" ng-repeat="show in $data"><td width=1><img img-src={{show.image}} img-fallback={{imagePlaceholders.show}} img-loading={{imagePlaceholders.show}}></td><td width=200 title="\'Name\'" data-sortable="\'name\'">{{show.name}}</td><td title="\'Beschreibung\'" data-sortable="\'description\'"><div class=limit-height ng-bind-html=show.description></div></td></tr></table></div></div></div>'),a.put("app/viewer/videos/shows/shows-all/shows-all.html",'<div class="container-fluid animate-main-content" init><div table-view-data=shows table-view-options=showsOptions table-view=showsTable><title>Formate</title><div id=list name=Liste icon=fa-th-list template=app/viewer/videos/shows/shows-all/shows-all-list.html></div><div id=card name=Kacheln icon=fa-th-large template=app/viewer/videos/shows/shows-all/shows-all-card.html></div></div></div>'),
a.put("app/viewer/videos/shows/shows-one/series-all-card.html",'<div class=card-transparent><table class="table cards" ng-table=seriesTable><tr ng-repeat="series in $data"><td class=hide></td></tr><td class=container-fluid><div class=row><div ng-repeat="series in $data" class="col-xs-12 col-sm-6 col-md-4 col-lg-3"><div class=card-image><div class="card-image-header card-image-header-xs"><div class=image><a ui-sref="viewer.videos.shows.one({showId: show.id, seriesId: series.id})"><img class="image-badge image-badge-lg" img-src={{series.image}} img-fallback={{imagePlaceholders.series}} img-loading={{imagePlaceholders.series}}></a></div><div class=scroll-container swipe-propagation=false perfect-scrollbar><div class=title><a ui-sref="viewer.videos.shows.one({showId: show.id, seriesId: series.id})">{{series.name || \'(Kein Name)\'}}</a></div><div class=content ng-bind-html=series.description></div><div class=links><a class=icon-link ng-href={{link}} target=_blank data-title={{getDomain(link)}} ng-repeat="link in series.links" bs-tooltip><i class=fa-lg ng-class=getDomainIcon(link)></i></a></div></div></div><div class="card-image-footer text-right"><a ui-sref="viewer.videos.shows.one({showId: show.id, seriesId: series.id})"><i class="fa fa-lg fa-chevron-right"></i></a></div></div></div></div></td></table></div>'),a.put("app/viewer/videos/shows/shows-one/series-all-list.html",'<div class=card-content><div class=card-content-body><div class=table-container><table class="table table-hover list" ng-table=seriesTable><tr class="middle link" ui-sref="viewer.videos.shows.one({showId: show.id, seriesId: series.id})" ng-repeat="series in $data"><td width=1><img img-src={{series.image}} img-fallback={{imagePlaceholders.series}} img-loading={{imagePlaceholders.series}}></td><td width=200 title="\'Name\'" data-sortable="\'name\'">{{series.name}}</td><td title="\'Beschreibung\'" data-sortable="\'description\'"><div class=limit-height ng-bind-html=series.description></div></td></tr></table></div></div></div>'),a.put("app/viewer/videos/shows/shows-one/shows-one.html",'<div class="container-fluid animate-main-content" init><div class=row><div class=col-md-6><div class=card-content><div class="card-content-body overview-one"><a ui-sref="viewer.videos.shows.one({showId: show.id, seriesId: null})"><img class="image-badge image-badge-lg" img-src={{show.image}} img-fallback={{imagePlaceholders.show}} img-loading={{imagePlaceholders.show}}></a><div class=title><a ui-sref="viewer.videos.shows.one({showId: show.id, seriesId: null})">{{show.name}}</a></div><div class=content ng-bind-html=show.description></div><div class=links><div ng-repeat="link in show.links"><a ng-href={{link}} target=_blank><i class=fa-lg ng-class=getDomainIcon(link)></i>{{getDomain(link)}}</a></div></div><div class=report><a href=javascript:void(0); report=shows report-id={{show.id}}><i class="fa fa-flag"></i></a></div></div></div></div><div class=col-md-6><div class=card-content ng-if=seriesId><div class="card-content-body overview-one"><a ui-sref="viewer.videos.shows.one({showId: show.id, seriesId: series.id})"><img class="image-badge image-badge-lg" img-src={{series.image}} img-fallback={{imagePlaceholders.series}} img-loading={{imagePlaceholders.series}}></a><div class=title><a ui-sref="viewer.videos.shows.one({showId: show.id, seriesId: series.id})">{{series.name}}</a></div><div class=content ng-bind-html=series.description></div><div class=links><div ng-repeat="link in series.links"><a ng-href={{link}} target=_blank><i class=fa-lg ng-class=getDomainIcon(link)></i>{{getDomain(link)}}</a></div></div><div class=report><a href=javascript:void(0); report=series report-id={{series.id}}><i class="fa fa-flag"></i></a></div></div></div></div></div><div ng-if="!seriesId && showSeries.length > 0" table-view-data=showSeries table-view-options=seriesOptions table-view=seriesTable><title>Serien</title><div id=list name=Liste icon=fa-th-list template=app/viewer/videos/shows/shows-one/series-all-list.html></div><div id=card name=Kacheln icon=fa-th-large template=app/viewer/videos/shows/shows-one/series-all-card.html></div></div><div class=row><div class=col-md-12><div class=card-content><div class=card-content-header>Statistiken</div><div class="card-content-body form-stats" form><div name="\'Gesamte Video Anzahl\'" form-element>{{stats.videosCountTotal | number}} Videos</div><div name="\'Durchschnittliche Video Anzahl\'" form-element>{{stats.videosCountMean | number}} Videos pro Tag</div><div name="\'Gesamte Video Laufzeit\'" form-element>{{stats.videosDurationTotal | duration}}</div><div name="\'Durchschnittliche Video Laufzeit\'" form-element>{{stats.videosDurationMean | duration}}</div><div name="\'Gesamte Video Aufrufe\'" form-element>{{stats.videosViewsTotal | number}} Aufrufe</div><div name="\'Durchschnittliche Video Aufrufe\'" form-element>{{stats.videosViewsMean | number}} Aufrufe pro Video</div><div name="\'Video Anzahl mit Moderatoren\'" form-element><div class=table-container><table class="table table-hover list" ng-table=stats.videosHostsTable><tr class="middle link" ui-sref="viewer.videos.hosts.one({hostId: data.host.id})" ng-repeat="data in $data"><td width=130 title="\'Video Anzahl\'" data-sortable="\'count\'">{{data.count | number}}</td><td title="\'Vorname\'" data-sortable="\'host.firstname\'">{{data.host.firstname}}</td><td title="\'Nachname\'" data-sortable="\'host.lastname\'">{{data.host.lastname}}</td><td title="\'Spitzname\'" data-sortable="\'host.nickname\'">{{data.host.nickname}}</td></tr></table></div><div align="\'right\'" table-pagination=stats.videosHostsTable></div></div></div></div></div></div><div class=row ng-repeat="chart in charts"><div class=col-lg-12><div options=chart.options update=chart.update chart></div></div></div><div videos-view-mode="\'view\'" videos-view-data=videos videos-view-options=videosOptions videos-view=videosTable></div></div>'),a.put("app/viewer/videos/shows/shows.html","<div><div ui-view></div></div>"),a.put("app/viewer/videos/videos/videos-all/videos-all.html",'<div class="container-fluid animate-main-content" init><div videos-view-mode="\'view\'" videos-view-data=videos videos-view-options=videosOptions videos-view=videosTable></div></div>'),a.put("app/viewer/videos/videos/videos.html","<div><div ui-view></div></div>")}]);